"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[123],{28453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>c});var s=n(96540);const r={},d=s.createContext(r);function t(e){const i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(d.Provider,{value:i},e.children)}},69601:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"adrs/adr-004-autenticacion-sso","title":"ADR-004: Autenticaci\xf3n Centralizada SSO y Multi-Tenancy","description":"\u2705 ESTADO","source":"@site/docs/adrs/adr-004-autenticacion-sso.md","sourceDirName":"adrs","slug":"/adrs/adr-004-autenticacion-sso","permalink":"/tlm-doc-architecture/docs/adrs/adr-004-autenticacion-sso","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/adrs/adr-004-autenticacion-sso.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"ADR-004: Autenticaci\xf3n Centralizada SSO y Multi-Tenancy","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"ADR-003: Gesti\xf3n de Secretos","permalink":"/tlm-doc-architecture/docs/adrs/adr-003-gestion-secretos"},"next":{"title":"ADR-005: Gesti\xf3n de Configuraciones","permalink":"/tlm-doc-architecture/docs/adrs/adr-005-gestion-configuraciones"}}');var r=n(74848),d=n(28453);const t={title:"ADR-004: Autenticaci\xf3n Centralizada SSO y Multi-Tenancy",sidebar_position:4},c=void 0,l={},a=[{value:"\u2705 ESTADO",id:"-estado",level:2},{value:"\ud83d\uddfa\ufe0f CONTEXTO",id:"\ufe0f-contexto",level:2},{value:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS",id:"-comparativa-de-alternativas",level:2},{value:"Comparativa Cualitativa",id:"comparativa-cualitativa",level:3},{value:"Matriz de Decisi\xf3n",id:"matriz-de-decisi\xf3n",level:3},{value:"\ud83d\udcb0 AN\xc1LISIS DE COSTOS (TCO 3 a\xf1os)",id:"-an\xe1lisis-de-costos-tco-3-a\xf1os",level:2},{value:"Escenario de referencia: 10,000 usuarios activos, 4 pa\xedses",id:"escenario-de-referencia-10000-usuarios-activos-4-pa\xedses",level:3},{value:"Escenario Alto Volumen: 50,000 usuarios activos",id:"escenario-alto-volumen-50000-usuarios-activos",level:3},{value:"Consideraciones t\xe9cnicas y riesgos",id:"consideraciones-t\xe9cnicas-y-riesgos",level:2},{value:"L\xedmites clave",id:"l\xedmites-clave",level:3},{value:"Riesgos y mitigaci\xf3n",id:"riesgos-y-mitigaci\xf3n",level:3},{value:"\u2714\ufe0f DECISI\xd3N",id:"\ufe0f-decisi\xf3n",level:2},{value:"Justificaci\xf3n",id:"justificaci\xf3n",level:2},{value:"Alternativas descartadas",id:"alternativas-descartadas",level:2},{value:"\u26a0\ufe0f CONSECUENCIAS",id:"\ufe0f-consecuencias",level:2},{value:"\ud83c\udfd7\ufe0f ARQUITECTURA DE DESPLIEGUE",id:"\ufe0f-arquitectura-de-despliegue",level:2},{value:"Integraci\xf3n con servicios",id:"integraci\xf3n-con-servicios",level:3},{value:"\ud83d\udcda REFERENCIAS",id:"-referencias",level:2}];function o(e){const i={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"-estado",children:"\u2705 ESTADO"}),"\n",(0,r.jsx)(i.p,{children:"Aceptada \u2013 Agosto 2025"}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-contexto",children:"\ud83d\uddfa\ufe0f CONTEXTO"}),"\n",(0,r.jsx)(i.p,{children:"Los servicios corporativos requieren una soluci\xf3n robusta de gesti\xf3n de identidades para:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Autenticaci\xf3n centralizada (SSO) para todos los servicios"})}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Multi-tenancy"})," para operaciones en Per\xfa, Ecuador, Colombia y M\xe9xico"]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Protocolos est\xe1ndar (OAuth2, OIDC, SAML) para integraci\xf3n"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Federaci\xf3n con proveedores externos corporativos"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Escalabilidad para miles de usuarios concurrentes"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.strong,{children:"Portabilidad entre clouds y on-premises"})}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"La intenci\xf3n estrat\xe9gica es mantener agnosticidad y evitar lock-in con proveedores cloud espec\xedficos."}),"\n",(0,r.jsx)(i.p,{children:"Las alternativas evaluadas fueron:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Keycloak"})," (open source, agn\xf3stico)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Auth0"})," (SaaS, gestionado)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"AWS Cognito"})," (gestionado AWS)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Azure AD B2C"})," (gestionado Azure)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Google Identity Platform"})," (gestionado GCP)"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"-comparativa-de-alternativas",children:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS"}),"\n",(0,r.jsx)(i.h3,{id:"comparativa-cualitativa",children:"Comparativa Cualitativa"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Criterio"}),(0,r.jsx)(i.th,{children:"Keycloak"}),(0,r.jsx)(i.th,{children:"Auth0"}),(0,r.jsx)(i.th,{children:"AWS Cognito"}),(0,r.jsx)(i.th,{children:"Azure AD B2C"}),(0,r.jsx)(i.th,{children:"Google IdP"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Agnosticidad"})}),(0,r.jsx)(i.td,{children:"\u274c Lock-in OSS"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 SaaS independiente"}),(0,r.jsx)(i.td,{children:"\u274c Lock-in AWS"}),(0,r.jsx)(i.td,{children:"\u274c Lock-in Azure"}),(0,r.jsx)(i.td,{children:"\u274c Lock-in GCP"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Operaci\xf3n"})}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Requiere gesti\xf3n"}),(0,r.jsx)(i.td,{children:"\u2705 Totalmente gestionado"}),(0,r.jsx)(i.td,{children:"\u2705 Totalmente gestionado"}),(0,r.jsx)(i.td,{children:"\u2705 Totalmente gestionado"}),(0,r.jsx)(i.td,{children:"\u2705 Totalmente gestionado"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Seguridad"})}),(0,r.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,r.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,r.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,r.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,r.jsx)(i.td,{children:"\u2705 Enterprise grade"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Multi-tenancy"})}),(0,r.jsx)(i.td,{children:"\u2705 Nativo y flexible"}),(0,r.jsx)(i.td,{children:"\u2705 Excelente soporte"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 B\xe1sico"}),(0,r.jsx)(i.td,{children:"\u2705 Muy bueno"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 B\xe1sico"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Protocolos"})}),(0,r.jsx)(i.td,{children:"\u2705 Todos los est\xe1ndares"}),(0,r.jsx)(i.td,{children:"\u2705 Completo"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Limitado"}),(0,r.jsx)(i.td,{children:"\u2705 Completo"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Limitado"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Personalizaci\xf3n"})}),(0,r.jsx)(i.td,{children:"\u2705 Altamente personalizable"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Limitada"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Muy limitada"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Limitada"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Muy limitada"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Costos"})}),(0,r.jsx)(i.td,{children:"\u2705 Solo infraestructura"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Por usuario activo"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Por usuario activo"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Por usuario activo"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Por usuario activo"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"matriz-de-decisi\xf3n",children:"Matriz de Decisi\xf3n"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Soluci\xf3n"}),(0,r.jsx)(i.th,{children:"Agnosticidad"}),(0,r.jsx)(i.th,{children:"Operaci\xf3n"}),(0,r.jsx)(i.th,{children:"Seguridad"}),(0,r.jsx)(i.th,{children:"Multi-tenancy"}),(0,r.jsx)(i.th,{children:"Recomendaci\xf3n"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Keycloak"})}),(0,r.jsx)(i.td,{children:"Mala"}),(0,r.jsx)(i.td,{children:"Manual"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsxs)(i.td,{children:["\u2705 ",(0,r.jsx)(i.strong,{children:"Seleccionada"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Auth0"})}),(0,r.jsx)(i.td,{children:"Mala"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"\ud83d\udfe1 Alternativa"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"AWS Cognito"})}),(0,r.jsx)(i.td,{children:"Mala"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Limitada"}),(0,r.jsx)(i.td,{children:"\u274c Descartada"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Azure AD B2C"})}),(0,r.jsx)(i.td,{children:"Mala"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Buena"}),(0,r.jsx)(i.td,{children:"\u274c Descartada"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Google IdP"})}),(0,r.jsx)(i.td,{children:"Mala"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Excelente"}),(0,r.jsx)(i.td,{children:"Limitada"}),(0,r.jsx)(i.td,{children:"\u274c Descartada"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"-an\xe1lisis-de-costos-tco-3-a\xf1os",children:"\ud83d\udcb0 AN\xc1LISIS DE COSTOS (TCO 3 a\xf1os)"}),"\n",(0,r.jsx)(i.h3,{id:"escenario-de-referencia-10000-usuarios-activos-4-pa\xedses",children:"Escenario de referencia: 10,000 usuarios activos, 4 pa\xedses"}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Metodolog\xeda y supuestos:"})," Se asume un uso promedio de 10,000 usuarios activos, 4 pa\xedses, considerando operaci\xf3n, escalabilidad y personalizaci\xf3n. El TCO (Total Cost of Ownership) se calcula para un horizonte de 3 a\xf1os, incluyendo costos directos y estimaciones de operaci\xf3n. Los valores pueden variar seg\xfan el crecimiento de usuarios y la infraestructura."]}),"\n"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Soluci\xf3n"}),(0,r.jsx)(i.th,{children:"Licenciamiento"}),(0,r.jsx)(i.th,{children:"Infraestructura"}),(0,r.jsx)(i.th,{children:"Operaci\xf3n"}),(0,r.jsx)(i.th,{children:"TCO 3 a\xf1os"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Keycloak"}),(0,r.jsx)(i.td,{children:"US$0 (OSS)"}),(0,r.jsx)(i.td,{children:"US$3,600/a\xf1o"}),(0,r.jsx)(i.td,{children:"US$48,000/a\xf1o"}),(0,r.jsx)(i.td,{children:"US$154,800"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Auth0"}),(0,r.jsx)(i.td,{children:"US$23/usuario/mes"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$12,000/a\xf1o"}),(0,r.jsx)(i.td,{children:"US$864,000"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"AWS Cognito"}),(0,r.jsx)(i.td,{children:"US$0.0055/MAU"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$1,980/a\xf1o"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Azure AD B2C"}),(0,r.jsx)(i.td,{children:"US$0.00325/MAU"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$1,170/a\xf1o"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Google IdP"}),(0,r.jsx)(i.td,{children:"US$0.006/MAU"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$0"}),(0,r.jsx)(i.td,{children:"US$2,160/a\xf1o"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"escenario-alto-volumen-50000-usuarios-activos",children:"Escenario Alto Volumen: 50,000 usuarios activos"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Soluci\xf3n"}),(0,r.jsx)(i.th,{children:"TCO 3 a\xf1os"}),(0,r.jsx)(i.th,{children:"Escalabilidad"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Keycloak"}),(0,r.jsx)(i.td,{children:"US$240,000"}),(0,r.jsx)(i.td,{children:"Lineal con infraestructura"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Auth0"}),(0,r.jsx)(i.td,{children:"US$4,140,000"}),(0,r.jsx)(i.td,{children:"Autom\xe1tica"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"AWS Cognito"}),(0,r.jsx)(i.td,{children:"US$9,900"}),(0,r.jsx)(i.td,{children:"Autom\xe1tica"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Azure AD B2C"}),(0,r.jsx)(i.td,{children:"US$5,850"}),(0,r.jsx)(i.td,{children:"Autom\xe1tica"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Google IdP"}),(0,r.jsx)(i.td,{children:"US$10,800"}),(0,r.jsx)(i.td,{children:"Autom\xe1tica"})]})]})]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"consideraciones-t\xe9cnicas-y-riesgos",children:"Consideraciones t\xe9cnicas y riesgos"}),"\n",(0,r.jsx)(i.h3,{id:"l\xedmites-clave",children:"L\xedmites clave"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Keycloak:"})," Sin l\xedmite pr\xe1ctico de usuarios, escalabilidad horizontal, personalizaci\xf3n total."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Auth0/AWS Cognito/Azure AD B2C/Google IdP:"})," L\xedmite por usuario activo, escalabilidad autom\xe1tica, personalizaci\xf3n limitada."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"riesgos-y-mitigaci\xf3n",children:"Riesgos y mitigaci\xf3n"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Complejidad operacional:"})," mitigada con contenedores y automatizaci\xf3n."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Gesti\xf3n de actualizaciones:"})," gestionada con CI/CD y testing automatizado."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Curva de aprendizaje:"})," mitigada con capacitaci\xf3n y documentaci\xf3n."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-decisi\xf3n",children:"\u2714\ufe0f DECISI\xd3N"}),"\n",(0,r.jsxs)(i.p,{children:["Se selecciona ",(0,r.jsx)(i.strong,{children:"Keycloak"})," como soluci\xf3n para la gesti\xf3n de identidades y autenticaci\xf3n centralizada en todos los entornos del sistema corporativo."]}),"\n",(0,r.jsx)(i.h2,{id:"justificaci\xf3n",children:"Justificaci\xf3n"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Integraci\xf3n nativa con protocolos est\xe1ndar y ecosistema ",(0,r.jsx)(i.code,{children:".NET"})]}),"\n",(0,r.jsxs)(i.li,{children:["Multi-tenancy robusto con aislamiento por pa\xeds (",(0,r.jsx)(i.code,{children:"tenant (realm)"}),")"]}),"\n",(0,r.jsx)(i.li,{children:"Personalizaci\xf3n total de flujos y UI"}),"\n",(0,r.jsx)(i.li,{children:"Costos predecibles y control total de datos"}),"\n",(0,r.jsx)(i.li,{children:"Portabilidad y despliegue en cualquier cloud/on-premises"}),"\n",(0,r.jsx)(i.li,{children:"Menor complejidad operativa frente a SaaS, con control total"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"alternativas-descartadas",children:"Alternativas descartadas"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Auth0:"})," Costos altos y lock-in SaaS"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"AWS Cognito:"})," Limitada integraci\xf3n y lock-in AWS"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Azure AD B2C:"})," Limitada integraci\xf3n y lock-in Azure"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Google IdP:"})," Limitada integraci\xf3n y lock-in GCP"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-consecuencias",children:"\u26a0\ufe0f CONSECUENCIAS"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"El ciclo de vida de identidades ser\xe1 gestionado exclusivamente en Keycloak."}),"\n",(0,r.jsx)(i.li,{children:"Las aplicaciones y microservicios deben validar JWT y claims emitidos por Keycloak."}),"\n",(0,r.jsx)(i.li,{children:"Se documentar\xe1 el uso y acceso en los manuales de operaci\xf3n y seguridad."}),"\n",(0,r.jsx)(i.li,{children:"Se implementar\xe1n las mitigaciones descritas y un plan de revisi\xf3n anual."}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-arquitectura-de-despliegue",children:"\ud83c\udfd7\ufe0f ARQUITECTURA DE DESPLIEGUE"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Cluster Keycloak: 3 instancias multi-AZ"}),"\n",(0,r.jsxs)(i.li,{children:["Load Balancer: ",(0,r.jsx)(i.code,{children:"YARP"}),"/ALB"]}),"\n",(0,r.jsxs)(i.li,{children:["Base de datos: ",(0,r.jsx)(i.code,{children:"PostgreSQL"})," replicado"]}),"\n",(0,r.jsxs)(i.li,{children:["Cache: ",(0,r.jsx)(i.code,{children:"Redis"})," cluster"]}),"\n",(0,r.jsx)(i.li,{children:"Sesiones: sticky sessions + persistencia en base de datos"}),"\n",(0,r.jsxs)(i.li,{children:["Realms por pa\xeds: ",(0,r.jsx)(i.code,{children:"talma-peru"}),", ",(0,r.jsx)(i.code,{children:"talma-ecuador"}),", ",(0,r.jsx)(i.code,{children:"talma-colombia"}),", ",(0,r.jsx)(i.code,{children:"talma-mexico"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"integraci\xf3n-con-servicios",children:"Integraci\xf3n con servicios"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"API Gateway: OIDC Client + validaci\xf3n de JWT"}),"\n",(0,r.jsx)(i.li,{children:"Notification: OAuth2 service-to-service"}),"\n",(0,r.jsx)(i.li,{children:"Track & Trace: JWT bearer tokens"}),"\n",(0,r.jsx)(i.li,{children:"SITA Messaging: Client credentials flow"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-referencias",children:"\ud83d\udcda REFERENCIAS"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://www.keycloak.org/documentation",children:"Keycloak Documentation"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://www.keycloak.org/docs/latest/server_admin/#_realms",children:"Multi-tenancy with Keycloak Realms"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://www.keycloak.org/docs/latest/server_installation/#_clustering",children:"Keycloak Performance Tuning"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics",children:"OAuth2 and OIDC Best Practices"})}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n tomada por:"})," Equipo de Arquitectura + CISO\n",(0,r.jsx)(i.strong,{children:"Fecha:"})," Agosto 2025\n",(0,r.jsx)(i.strong,{children:"Pr\xf3xima revisi\xf3n:"})," Agosto 2026"]})]})}function h(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);