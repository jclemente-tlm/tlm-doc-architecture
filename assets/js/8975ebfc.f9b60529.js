"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[4262],{28453:(e,i,s)=>{s.d(i,{R:()=>c,x:()=>a});var n=s(96540);const r={},t=n.createContext(r);function c(e){const i=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(t.Provider,{value:i},e.children)}},50100:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"servicios-corporativos/servicio-track-trace/decisiones-arquitectura","title":"9. Decisiones de arquitectura","description":"9.1 Decisiones principales","source":"@site/docs/servicios-corporativos/servicio-track-trace/09-decisiones-arquitectura.md","sourceDirName":"servicios-corporativos/servicio-track-trace","slug":"/servicios-corporativos/servicio-track-trace/decisiones-arquitectura","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/decisiones-arquitectura","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/servicio-track-trace/09-decisiones-arquitectura.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"8. Conceptos transversales","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/conceptos-transversales"},"next":{"title":"10. Requisitos de calidad","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/requisitos-calidad"}}');var r=s(74848),t=s(28453);const c={},a="9. Decisiones de arquitectura",d={},o=[{value:"9.1 Decisiones principales",id:"91-decisiones-principales",level:2},{value:"9.2 Alternativas evaluadas",id:"92-alternativas-evaluadas",level:2},{value:"9.3 Decisiones clave",id:"93-decisiones-clave",level:2},{value:"ADR-001: Persistencia de eventos en PostgreSQL",id:"adr-001-persistencia-de-eventos-en-postgresql",level:3},{value:"ADR-002: Multi-tenant por esquema",id:"adr-002-multi-tenant-por-esquema",level:3},{value:"ADR-003: Procesamiento as\xedncrono con SQS",id:"adr-003-procesamiento-as\xedncrono-con-sqs",level:3},{value:"ADR-004: Integraci\xf3n con SITA Messaging",id:"adr-004-integraci\xf3n-con-sita-messaging",level:3},{value:"ADR-005: Observabilidad con OpenTelemetry y Prometheus",id:"adr-005-observabilidad-con-opentelemetry-y-prometheus",level:3},{value:"9.4 Decisiones pendientes",id:"94-decisiones-pendientes",level:2}];function l(e){const i={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"9-decisiones-de-arquitectura",children:"9. Decisiones de arquitectura"})}),"\n",(0,r.jsx)(i.h2,{id:"91-decisiones-principales",children:"9.1 Decisiones principales"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"ADR"}),(0,r.jsx)(i.th,{children:"Decisi\xf3n"}),(0,r.jsx)(i.th,{children:"Estado"}),(0,r.jsx)(i.th,{children:"Justificaci\xf3n"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"ADR-001"}),(0,r.jsx)(i.td,{children:"Persistencia de eventos en PostgreSQL"}),(0,r.jsx)(i.td,{children:"Aceptado"}),(0,r.jsx)(i.td,{children:"Simplicidad, robustez"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"ADR-002"}),(0,r.jsx)(i.td,{children:"Multi-tenant por esquema"}),(0,r.jsx)(i.td,{children:"Aceptado"}),(0,r.jsx)(i.td,{children:"Aislamiento de datos"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"ADR-003"}),(0,r.jsx)(i.td,{children:"Procesamiento as\xedncrono con SQS"}),(0,r.jsx)(i.td,{children:"Aceptado"}),(0,r.jsx)(i.td,{children:"Escalabilidad, desacople"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"ADR-004"}),(0,r.jsx)(i.td,{children:"Integraci\xf3n con SITA Messaging"}),(0,r.jsx)(i.td,{children:"Aceptado"}),(0,r.jsx)(i.td,{children:"Interoperabilidad"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"ADR-005"}),(0,r.jsx)(i.td,{children:"Observabilidad con OpenTelemetry y Prometheus"}),(0,r.jsx)(i.td,{children:"Aceptado"}),(0,r.jsx)(i.td,{children:"Trazabilidad y m\xe9tricas"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"92-alternativas-evaluadas",children:"9.2 Alternativas evaluadas"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Componente"}),(0,r.jsx)(i.th,{children:"Alternativas"}),(0,r.jsx)(i.th,{children:"Selecci\xf3n"}),(0,r.jsx)(i.th,{children:"Raz\xf3n"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Persistencia"}),(0,r.jsx)(i.td,{children:"EventStoreDB, PostgreSQL, DynamoDB"}),(0,r.jsx)(i.td,{children:"PostgreSQL"}),(0,r.jsx)(i.td,{children:"Experiencia, ACID, soporte JSONB"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"API"}),(0,r.jsx)(i.td,{children:"REST, GraphQL, gRPC"}),(0,r.jsx)(i.td,{children:"REST"}),(0,r.jsx)(i.td,{children:"Simplicidad, interoperabilidad"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Multi-tenancy"}),(0,r.jsx)(i.td,{children:"Esquema por tenant, columna por tenant"}),(0,r.jsx)(i.td,{children:"Esquema por tenant"}),(0,r.jsx)(i.td,{children:"Aislamiento, compliance"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Mensajer\xeda"}),(0,r.jsx)(i.td,{children:"SQS, Kafka, RabbitMQ"}),(0,r.jsx)(i.td,{children:"SQS"}),(0,r.jsx)(i.td,{children:"Integraci\xf3n nativa AWS, simplicidad"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"93-decisiones-clave",children:"9.3 Decisiones clave"}),"\n",(0,r.jsx)(i.h3,{id:"adr-001-persistencia-de-eventos-en-postgresql",children:"ADR-001: Persistencia de eventos en PostgreSQL"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Contexto"}),": Se requiere almacenamiento confiable, performante y flexible para eventos."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n"}),": Uso de PostgreSQL (AWS RDS) como base de datos principal."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Consecuencias"}),": Simplicidad operativa, soporte ACID, flexibilidad con JSONB."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"adr-002-multi-tenant-por-esquema",children:"ADR-002: Multi-tenant por esquema"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Contexto"}),": Aislamiento de datos y cumplimiento normativo."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n"}),": Separaci\xf3n de datos por esquema en PostgreSQL."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Consecuencias"}),": Aislamiento fuerte, gesti\xf3n de recursos por tenant."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"adr-003-procesamiento-as\xedncrono-con-sqs",children:"ADR-003: Procesamiento as\xedncrono con SQS"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Contexto"}),": Desacoplar la ingesta y el procesamiento de eventos."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n"}),": Uso de AWS SQS como cola de eventos."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Consecuencias"}),": Escalabilidad, tolerancia a fallos, desacople."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"adr-004-integraci\xf3n-con-sita-messaging",children:"ADR-004: Integraci\xf3n con SITA Messaging"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Contexto"}),": Necesidad de interoperar con sistemas externos."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n"}),": Publicaci\xf3n de eventos relevantes a SITA Messaging."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Consecuencias"}),": Integraci\xf3n flexible, propagaci\xf3n de eventos."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"adr-005-observabilidad-con-opentelemetry-y-prometheus",children:"ADR-005: Observabilidad con OpenTelemetry y Prometheus"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Contexto"}),": Requerimiento de monitoreo y trazabilidad."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decisi\xf3n"}),": Uso de OpenTelemetry para trazas y Prometheus para m\xe9tricas."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Consecuencias"}),": Observabilidad unificada, monitoreo proactivo."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"94-decisiones-pendientes",children:"9.4 Decisiones pendientes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Estrategia de sharding para escalamiento horizontal."}),"\n",(0,r.jsx)(i.li,{children:"Pol\xedticas de archivado y retenci\xf3n de eventos."}),"\n",(0,r.jsx)(i.li,{children:"Estrategia de evoluci\xf3n de esquemas de eventos."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);