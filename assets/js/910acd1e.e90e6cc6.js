"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[7227],{21806:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"adrs/adr-020-alojamiento-nugets","title":"ADR-020: Alojamiento de NuGets Internos","description":"\u2705 ESTADO","source":"@site/docs/adrs/adr-020-alojamiento-nugets.md","sourceDirName":"adrs","slug":"/adrs/adr-020-alojamiento-nugets","permalink":"/tlm-doc-architecture/docs/adrs/adr-020-alojamiento-nugets","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/adrs/adr-020-alojamiento-nugets.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"ADR-020: Alojamiento de NuGets Internos","sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"ADR-019: Configuraciones por Scripts en BD","permalink":"/tlm-doc-architecture/docs/adrs/adr-019-configuraciones-scripts-bd"},"next":{"title":"ADR-021: Observabilidad","permalink":"/tlm-doc-architecture/docs/adrs/adr-021-observabilidad"}}');var s=n(74848),t=n(28453);const d={title:"ADR-020: Alojamiento de NuGets Internos",sidebar_position:20},c=void 0,a={},l=[{value:"\u2705 ESTADO",id:"-estado",level:2},{value:"\ud83d\uddfa\ufe0f CONTEXTO",id:"\ufe0f-contexto",level:2},{value:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS",id:"-comparativa-de-alternativas",level:2},{value:"Comparativa Cualitativa",id:"comparativa-cualitativa",level:3},{value:"Matriz de Decisi\xf3n",id:"matriz-de-decisi\xf3n",level:3},{value:"\u2714\ufe0f DECISI\xd3N",id:"\ufe0f-decisi\xf3n",level:2},{value:"Justificaci\xf3n",id:"justificaci\xf3n",level:2},{value:"\u26a0\ufe0f CONSECUENCIAS",id:"\ufe0f-consecuencias",level:2},{value:"\ud83d\udcda REFERENCIAS",id:"-referencias",level:2}];function o(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"-estado",children:"\u2705 ESTADO"}),"\n",(0,s.jsx)(i.p,{children:"Aceptada \u2013 Agosto 2025"}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"\ufe0f-contexto",children:"\ud83d\uddfa\ufe0f CONTEXTO"}),"\n",(0,s.jsx)(i.p,{children:"Todos los microservicios corporativos utilizan NuGets internos para compartir c\xf3digo com\xfan, incluyendo:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Observability.Shared"})," (logging, m\xe9tricas, tracing, health checks)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"SecretsAndConfig.Shared"})," (gesti\xf3n de secretos y configuraciones)"]}),"\n",(0,s.jsx)(i.li,{children:"Otros paquetes comunes que puedan surgir en el futuro"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Se requiere una soluci\xf3n que permita:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Control de acceso"}),": s\xf3lo desarrolladores y pipelines autorizados pueden publicar/consumir paquetes."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Versionamiento confiable"}),": SemVer y control de versiones estables/pre-release."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Reutilizaci\xf3n y consistencia"}),": todos los servicios consumen las mismas versiones."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Compatibilidad con AWS"}),": microservicios desplegados en AWS."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Automatizaci\xf3n CI/CD"}),": publicar NuGets autom\xe1ticamente en pipelines."]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"-comparativa-de-alternativas",children:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS"}),"\n",(0,s.jsx)(i.h3,{id:"comparativa-cualitativa",children:"Comparativa Cualitativa"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Criterio"}),(0,s.jsx)(i.th,{children:"GitHub Packages"}),(0,s.jsx)(i.th,{children:"AWS CodeArtifact"}),(0,s.jsx)(i.th,{children:"Azure Artifacts"}),(0,s.jsx)(i.th,{children:"Artifactory/Nexus"}),(0,s.jsx)(i.th,{children:"Feed privado NuGet.org"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Agnosticidad"})}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Parcialmente agn\xf3stico (compatible con cualquier nube, depende de GitHub)"}),(0,s.jsx)(i.td,{children:"\u274c No agn\xf3stico (dependencia de AWS)"}),(0,s.jsx)(i.td,{children:"\u274c No agn\xf3stico (dependencia de Azure)"}),(0,s.jsx)(i.td,{children:"\u2705 Agn\xf3stico (on-prem/cloud, sin lock-in)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Parcial (depende de internet)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Operaci\xf3n"})}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 A cargo del usuario (self-service, administraci\xf3n propia)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe2 A cargo de AWS (servicio gestionado)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe2 A cargo de Azure (servicio gestionado)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 A cargo del usuario (administraci\xf3n propia)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 A cargo del usuario (manual)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Control de acceso"})}),(0,s.jsx)(i.td,{children:"\u2705 Roles por repositorio y PAT"}),(0,s.jsx)(i.td,{children:"\u2705 IAM y pol\xedticas AWS"}),(0,s.jsx)(i.td,{children:"\u2705 Roles por proyecto"}),(0,s.jsx)(i.td,{children:"\u2705 Control completo"}),(0,s.jsx)(i.td,{children:"\u274c Limitado"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Costo"})}),(0,s.jsx)(i.td,{children:"\u2705 Sin costo adicional (incluido en GitHub)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Tarifa variable (pago por uso)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Tarifa fija mensual (por feed)"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Tarifa variable (licencia, infraestructura y mantenimiento)"}),(0,s.jsx)(i.td,{children:"\u2705 Gratis (si es on-premise, puede tener costo de hosting)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Ecosistema .NET"})}),(0,s.jsx)(i.td,{children:"\u2705 Excelente soporte"}),(0,s.jsx)(i.td,{children:"\u2705 Soporte oficial"}),(0,s.jsx)(i.td,{children:"\u2705 Soporte oficial"}),(0,s.jsx)(i.td,{children:"\u2705 Soporte oficial"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Limitado"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"matriz-de-decisi\xf3n",children:"Matriz de Decisi\xf3n"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Soluci\xf3n"}),(0,s.jsx)(i.th,{children:"Agnosticidad"}),(0,s.jsx)(i.th,{children:"Operaci\xf3n"}),(0,s.jsx)(i.th,{children:"Control de acceso"}),(0,s.jsx)(i.th,{children:"Costo"}),(0,s.jsx)(i.th,{children:"Ecosistema .NET"}),(0,s.jsx)(i.th,{children:"Recomendaci\xf3n"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"GitHub Packages"})}),(0,s.jsx)(i.td,{children:"Parcial"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"\u2705 Seleccionada"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"AWS CodeArtifact"}),(0,s.jsx)(i.td,{children:"No"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Media"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Alternativa"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Azure Artifacts"}),(0,s.jsx)(i.td,{children:"No"}),(0,s.jsx)(i.td,{children:"Buena"}),(0,s.jsx)(i.td,{children:"Buena"}),(0,s.jsx)(i.td,{children:"Media"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Alternativa"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Artifactory / Nexus"}),(0,s.jsx)(i.td,{children:"S\xed"}),(0,s.jsx)(i.td,{children:"Media"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"Media"}),(0,s.jsx)(i.td,{children:"Excelente"}),(0,s.jsx)(i.td,{children:"\ud83d\udfe1 Considerada"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Feed privado NuGet.org"}),(0,s.jsx)(i.td,{children:"Parcial"}),(0,s.jsx)(i.td,{children:"Baja"}),(0,s.jsx)(i.td,{children:"Limitado"}),(0,s.jsx)(i.td,{children:"Alta"}),(0,s.jsx)(i.td,{children:"Limitado"}),(0,s.jsx)(i.td,{children:"\u274c Descartada"})]})]})]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"\ufe0f-decisi\xf3n",children:"\u2714\ufe0f DECISI\xd3N"}),"\n",(0,s.jsxs)(i.p,{children:["Se selecciona ",(0,s.jsx)(i.strong,{children:"GitHub Packages"})," como alojamiento de los NuGets internos."]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"justificaci\xf3n",children:"Justificaci\xf3n"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Aprovecha la infraestructura de repositorios existente en GitHub."}),"\n",(0,s.jsx)(i.li,{children:"Permite control de acceso granular mediante PAT y permisos de repositorio."}),"\n",(0,s.jsx)(i.li,{children:"Compatible con microservicios desplegados en AWS, sin infraestructura adicional."}),"\n",(0,s.jsx)(i.li,{children:"Facilita CI/CD con GitHub Actions, automatizando empaquetado y publicaci\xf3n de NuGets."}),"\n",(0,s.jsx)(i.li,{children:"Versionamiento consistente con soporte para pre-release para pruebas internas."}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"\ufe0f-consecuencias",children:"\u26a0\ufe0f CONSECUENCIAS"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Todos los microservicios deber\xe1n configurar ",(0,s.jsx)(i.code,{children:"NuGet.config"})," apuntando al feed privado de GitHub."]}),"\n",(0,s.jsx)(i.li,{children:"CI/CD debe gestionar autenticaci\xf3n mediante PAT y publicar los paquetes autom\xe1ticamente."}),"\n",(0,s.jsx)(i.li,{children:"Cualquier cambio futuro de proveedor (por ejemplo, migrar a Artifactory) requerir\xe1 un nuevo ADR."}),"\n",(0,s.jsx)(i.li,{children:"Se debe documentar el uso y acceso al feed privado internamente."}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"-referencias",children:"\ud83d\udcda REFERENCIAS"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-nuget-registry",children:"GitHub Packages"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/nuget/consume-packages/configuring-nuget-behavior",children:"NuGet.config reference"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://arc42.org/decision/",children:"Arc42: Decisiones de arquitectura"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>c});var r=n(96540);const s={},t=r.createContext(s);function d(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);