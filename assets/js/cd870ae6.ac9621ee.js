"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[7905],{28453:(e,i,r)=>{r.d(i,{R:()=>c,x:()=>d});var s=r(96540);const n={},t=s.createContext(n);function c(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(t.Provider,{value:i},e.children)}},98309:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"servicios-corporativos/servicio-identidad/restricciones-arquitectura","title":"2. Restricciones de la Arquitectura del Servicio de Identidad","description":"Esta secci\xf3n documenta todas las limitaciones t\xe9cnicas, organizativas, de proceso y de cumplimiento que condicionan el dise\xf1o y la evoluci\xf3n del Servicio de Identidad. Las restricciones aqu\xed descritas son obligatorias y deben ser consideradas en cada decisi\xf3n arquitect\xf3nica.","source":"@site/docs/servicios-corporativos/servicio-identidad/02-restricciones-arquitectura.md","sourceDirName":"servicios-corporativos/servicio-identidad","slug":"/servicios-corporativos/servicio-identidad/restricciones-arquitectura","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-identidad/restricciones-arquitectura","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/servicio-identidad/02-restricciones-arquitectura.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"1. Introducci\xf3n Y Objetivos Del Servicio De Identidad","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-identidad/introduccion-objetivos"},"next":{"title":"3. Contexto Y Alcance Del Servicio De Identidad","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-identidad/contexto-alcance"}}');var n=r(74848),t=r(28453);const c={},d="2. Restricciones de la Arquitectura del Servicio de Identidad",a={},o=[{value:"2.1 Restricciones T\xe9cnicas y de Plataforma",id:"21-restricciones-t\xe9cnicas-y-de-plataforma",level:2},{value:"2.2 Restricciones de Rendimiento y Disponibilidad",id:"22-restricciones-de-rendimiento-y-disponibilidad",level:2},{value:"2.3 Restricciones de Seguridad y Compliance",id:"23-restricciones-de-seguridad-y-compliance",level:2},{value:"2.4 Restricciones Organizacionales y Operativas",id:"24-restricciones-organizacionales-y-operativas",level:2},{value:"2.5 Restricciones de Monitoreo y Observabilidad",id:"25-restricciones-de-monitoreo-y-observabilidad",level:2},{value:"2.6 Otras Restricciones Espec\xedficas",id:"26-otras-restricciones-espec\xedficas",level:2},{value:"2.7 Referencias y Normativas",id:"27-referencias-y-normativas",level:2}];function l(e){const i={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"2-restricciones-de-la-arquitectura-del-servicio-de-identidad",children:"2. Restricciones de la Arquitectura del Servicio de Identidad"})}),"\n",(0,n.jsx)(i.p,{children:"Esta secci\xf3n documenta todas las limitaciones t\xe9cnicas, organizativas, de proceso y de cumplimiento que condicionan el dise\xf1o y la evoluci\xf3n del Servicio de Identidad. Las restricciones aqu\xed descritas son obligatorias y deben ser consideradas en cada decisi\xf3n arquitect\xf3nica."}),"\n",(0,n.jsx)(i.h2,{id:"21-restricciones-t\xe9cnicas-y-de-plataforma",children:"2.1 Restricciones T\xe9cnicas y de Plataforma"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Categor\xeda"}),(0,n.jsx)(i.th,{children:"Restricci\xf3n"}),(0,n.jsx)(i.th,{children:"Impacto en la arquitectura"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Plataforma"}),(0,n.jsx)(i.td,{children:"Keycloak 23+"}),(0,n.jsx)(i.td,{children:"Define IdP, APIs y federaci\xf3n"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Base de datos"}),(0,n.jsx)(i.td,{children:"PostgreSQL"}),(0,n.jsx)(i.td,{children:"Esquema multi-tenant, alta disponibilidad"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Contenedores"}),(0,n.jsx)(i.td,{children:"Docker"}),(0,n.jsx)(i.td,{children:"Portabilidad y despliegue"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Orquestaci\xf3n"}),(0,n.jsx)(i.td,{children:"AWS ECS + Terraform"}),(0,n.jsx)(i.td,{children:"Infraestructura como c\xf3digo, escalabilidad"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Protocolos"}),(0,n.jsx)(i.td,{children:"OAuth2/OIDC, SAML"}),(0,n.jsx)(i.td,{children:"Interoperabilidad y seguridad"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"22-restricciones-de-rendimiento-y-disponibilidad",children:"2.2 Restricciones de Rendimiento y Disponibilidad"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"M\xe9trica"}),(0,n.jsx)(i.th,{children:"Objetivo"}),(0,n.jsx)(i.th,{children:"Justificaci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Usuarios concurrentes"}),(0,n.jsx)(i.td,{children:"10,000+"}),(0,n.jsx)(i.td,{children:"Escalabilidad regional"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Latencia"}),(0,n.jsx)(i.td,{children:"< 100ms"}),(0,n.jsx)(i.td,{children:"Experiencia usuario"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Disponibilidad"}),(0,n.jsx)(i.td,{children:"99.9%"}),(0,n.jsx)(i.td,{children:"SLA corporativo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Failover"}),(0,n.jsx)(i.td,{children:"< 2 minutos"}),(0,n.jsx)(i.td,{children:"Resiliencia ante fallos"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"23-restricciones-de-seguridad-y-compliance",children:"2.3 Restricciones de Seguridad y Compliance"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Aspecto"}),(0,n.jsx)(i.th,{children:"Requerimiento"}),(0,n.jsx)(i.th,{children:"Referencia"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Cumplimiento"}),(0,n.jsx)(i.td,{children:"GDPR, ISO 27001, SOX"}),(0,n.jsx)(i.td,{children:"Ver referencias finales"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"MFA"}),(0,n.jsx)(i.td,{children:"Obligatorio admin"}),(0,n.jsx)(i.td,{children:"Seguridad acceso cr\xedtico"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Cifrado"}),(0,n.jsx)(i.td,{children:"TLS 1.3, AES-256"}),(0,n.jsx)(i.td,{children:"Protecci\xf3n datos en tr\xe1nsito y reposo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Token"}),(0,n.jsx)(i.td,{children:"JWT RS256"}),(0,n.jsx)(i.td,{children:"Integridad y autenticidad"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"24-restricciones-organizacionales-y-operativas",children:"2.4 Restricciones Organizacionales y Operativas"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"\xc1rea"}),(0,n.jsx)(i.th,{children:"Restricci\xf3n"}),(0,n.jsx)(i.th,{children:"Impacto"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Operaciones"}),(0,n.jsx)(i.td,{children:"DevOps 24/7"}),(0,n.jsx)(i.td,{children:"Soporte continuo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Multi-tenancy"}),(0,n.jsx)(i.td,{children:"Aislamiento por tenant"}),(0,n.jsx)(i.td,{children:"Independencia de clientes"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Documentaci\xf3n"}),(0,n.jsx)(i.td,{children:"Arc42 + ADR"}),(0,n.jsx)(i.td,{children:"Trazabilidad de decisiones"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Automatizaci\xf3n"}),(0,n.jsx)(i.td,{children:"Terraform, CI/CD"}),(0,n.jsx)(i.td,{children:"Despliegue seguro y repetible"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"25-restricciones-de-monitoreo-y-observabilidad",children:"2.5 Restricciones de Monitoreo y Observabilidad"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Tool"}),(0,n.jsx)(i.th,{children:"Prop\xf3sito"}),(0,n.jsx)(i.th,{children:"Integraci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Prometheus"}),(0,n.jsx)(i.td,{children:"App metrics"}),(0,n.jsx)(i.td,{children:"Keycloak metrics export"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Grafana"}),(0,n.jsx)(i.td,{children:"Visualizaci\xf3n"}),(0,n.jsx)(i.td,{children:"Multi-tenant dashboards"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Loki"}),(0,n.jsx)(i.td,{children:"Centralized logging"}),(0,n.jsx)(i.td,{children:"Structured logging"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Jaeger"}),(0,n.jsx)(i.td,{children:"Distributed tracing"}),(0,n.jsx)(i.td,{children:"OTLP export (OpenTelemetry)"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"CloudWatch"}),(0,n.jsx)(i.td,{children:"Infra monitoring"}),(0,n.jsx)(i.td,{children:"ECS, RDS, ALB metrics"})]})]})]}),"\n",(0,n.jsx)(i.mermaid,{value:"graph TD\n    KC[Keycloak Cluster] --\x3e|OIDC/SAML| PG(PostgreSQL)\n    KC --\x3e|Metrics| PROM(Prometheus)\n    KC --\x3e|Logs| LOKI(Grafana/Loki)\n    KC --\x3e|Tracing| JAEGER(Jaeger)\n    KC --\x3e|Backups| RDS(RDS Snapshots)\n    KC --\x3e|Config Export| EXPORT(Tenant Export)\n    KC --\x3e|DR| DR(Cross-Region Replica)"}),"\n",(0,n.jsx)(i.h2,{id:"26-otras-restricciones-espec\xedficas",children:"2.6 Otras Restricciones Espec\xedficas"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Backup y Disaster Recovery:"})," RDS backups autom\xe1ticos, exportaci\xf3n de configuraci\xf3n por tenant, DR cross-region."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Versionado y Ciclo de Vida:"})," Solo versiones LTS, upgrades planificados, compatibilidad N-1."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Seguridad avanzada:"})," Scans de vulnerabilidad, pentesting, auditor\xedas SOC2, cumplimiento SOX e ISO 27001."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Multi-tenant y federaci\xf3n:"})," Aislamiento total, personalizaci\xf3n por tenant, prohibido acceso cross-tenant."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Alta disponibilidad:"})," Clustering activo-activo, balanceo de carga, almacenamiento replicado."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Optimizaci\xf3n de performance:"})," Indexado, caching, tuning de conexiones y JVM."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Restricciones Keycloak:"})," Un tenant (realm) por pa\xeds, master realm solo para administraci\xf3n global."]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"27-referencias-y-normativas",children:"2.7 Referencias y Normativas"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.keycloak.org/docs/latest/server_installation/",children:"Keycloak Server Installation Guide"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.keycloak.org/docs/latest/server_installation/#_clustering",children:"Keycloak High Disponibilidad Guide"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.keycloak.org/docs/latest/server_installation/#_hardening",children:"Keycloak Security Hardening"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://tools.ietf.org/html/rfc6749",children:"OAuth 2.0 RFC 6749"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core 1.0"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://tools.ietf.org/html/rfc7519",children:"JWT RFC 7519"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf",children:"SAML 2.0 Core"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://gdpr-info.eu/",children:"GDPR Regulation (EU) 2016/679"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.congress.gov/bill/107th-congress/house-bill/3763",children:"Sarbanes-Oxley Act"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.iso.org/standard/54534.html",children:"ISO/IEC 27001:2013"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.arc42.org/section-2/",children:"Arc42 - Restricciones"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://c4model.com/",children:"C4 Model - Context & Container"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://structurizr.com/dsl",children:"Structurizr DSL"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);