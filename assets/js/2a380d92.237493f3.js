"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[1796],{28453:(e,i,r)=>{r.d(i,{R:()=>t,x:()=>l});var s=r(96540);const n={},d=s.createContext(n);function t(e){const i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(d.Provider,{value:i},e.children)}},94403:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"adrs/adr-006-infraestructura-iac","title":"Infraestructura como C\xf3digo (IaC)","description":"\u2705 ESTADO","source":"@site/docs/adrs/adr-006-infraestructura-iac.md","sourceDirName":"adrs","slug":"/adrs/adr-006-infraestructura-iac","permalink":"/tlm-doc-architecture/docs/adrs/adr-006-infraestructura-iac","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/adrs/adr-006-infraestructura-iac.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Infraestructura como C\xf3digo (IaC)","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Gesti\xf3n de Configuraciones","permalink":"/tlm-doc-architecture/docs/adrs/adr-005-gestion-configuraciones"},"next":{"title":"Contenedores en AWS","permalink":"/tlm-doc-architecture/docs/adrs/adr-007-contenedores-aws"}}');var n=r(74848),d=r(28453);const t={title:"Infraestructura como C\xf3digo (IaC)",sidebar_position:6},l=void 0,c={},a=[{value:"\u2705 ESTADO",id:"-estado",level:2},{value:"\ud83d\uddfa\ufe0f CONTEXTO",id:"\ufe0f-contexto",level:2},{value:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS",id:"-comparativa-de-alternativas",level:2},{value:"Comparativa Cualitativa",id:"comparativa-cualitativa",level:3},{value:"Matriz de Decisi\xf3n",id:"matriz-de-decisi\xf3n",level:3},{value:"\ud83d\udcb0 AN\xc1LISIS DE COSTOS (TCO 3 a\xf1os)",id:"-an\xe1lisis-de-costos-tco-3-a\xf1os",level:2},{value:"Consideraciones t\xe9cnicas y riesgos",id:"consideraciones-t\xe9cnicas-y-riesgos",level:2},{value:"L\xedmites clave",id:"l\xedmites-clave",level:3},{value:"Riesgos y mitigaci\xf3n",id:"riesgos-y-mitigaci\xf3n",level:3},{value:"\u2714\ufe0f DECISI\xd3N",id:"\ufe0f-decisi\xf3n",level:2},{value:"Justificaci\xf3n",id:"justificaci\xf3n",level:3},{value:"Alternativas descartadas",id:"alternativas-descartadas",level:3},{value:"\u26a0\ufe0f CONSECUENCIAS",id:"\ufe0f-consecuencias",level:2},{value:"\ud83d\udcda REFERENCIAS",id:"-referencias",level:2}];function o(e){const i={a:"a",blockquote:"blockquote",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"-estado",children:"\u2705 ESTADO"}),"\n",(0,n.jsx)(i.p,{children:"Aceptada \u2013 Agosto 2025"}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"\ufe0f-contexto",children:"\ud83d\uddfa\ufe0f CONTEXTO"}),"\n",(0,n.jsx)(i.p,{children:"Los servicios corporativos requieren una soluci\xf3n robusta de infraestructura como c\xf3digo para:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Despliegue multi-cloud"})," (AWS, Azure, GCP) con portabilidad"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Multi-entorno"})," (dev, staging, prod) con configuraciones espec\xedficas"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Multi-tenancy"})," con recursos segregados por pa\xeds/tenant"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Versionado y rollback"})," de infraestructura"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Automatizaci\xf3n CI/CD"})," integrada con pipelines"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Compliance y seguridad"})," con pol\xedticas como c\xf3digo"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Reutilizaci\xf3n de m\xf3dulos"})," para consistencia"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Gesti\xf3n de estado"})," distribuida y segura"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Disaster recovery"})," con infraestructura reproducible"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["La intenci\xf3n estrat\xe9gica es ",(0,n.jsx)(i.strong,{children:"evaluar agnosticidad vs facilidad operacional"})," considerando que la IaC es cr\xedtica para la portabilidad y la operaci\xf3n segura."]}),"\n",(0,n.jsx)(i.p,{children:"Alternativas evaluadas:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Terraform"})," (Gestionado por HashiCorp, HCL, multi-cloud)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Pulumi"})," (Multi-lenguaje, program\xe1tico)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"AWS CloudFormation"})," (AWS nativo)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"ARM Templates"})," (Azure nativo)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"GCP Deployment Manager"})," (GCP nativo)"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"-comparativa-de-alternativas",children:"\ud83d\udd0d COMPARATIVA DE ALTERNATIVAS"}),"\n",(0,n.jsx)(i.h3,{id:"comparativa-cualitativa",children:"Comparativa Cualitativa"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Criterio"}),(0,n.jsx)(i.th,{children:"Terraform"}),(0,n.jsx)(i.th,{children:"Pulumi"}),(0,n.jsx)(i.th,{children:"AWS CloudFormation"}),(0,n.jsx)(i.th,{children:"ARM Templates"}),(0,n.jsx)(i.th,{children:"GCP Deployment Manager"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Agnosticidad"})}),(0,n.jsx)(i.td,{children:"\u2705 Multi-cloud"}),(0,n.jsx)(i.td,{children:"\u2705 Multi-cloud"}),(0,n.jsx)(i.td,{children:"\u274c Lock-in AWS"}),(0,n.jsx)(i.td,{children:"\u274c Lock-in Azure"}),(0,n.jsx)(i.td,{children:"\u274c Lock-in GCP"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Operaci\xf3n"})}),(0,n.jsx)(i.td,{children:"\u2705 Declarativo"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Imperativo"}),(0,n.jsx)(i.td,{children:"\u2705 Declarativo"}),(0,n.jsx)(i.td,{children:"\u2705 Declarativo"}),(0,n.jsx)(i.td,{children:"\u2705 Declarativo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Seguridad"})}),(0,n.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,n.jsx)(i.td,{children:"\u2705 Enterprise grade"}),(0,n.jsx)(i.td,{children:"\u2705 AWS IAM"}),(0,n.jsx)(i.td,{children:"\u2705 Azure RBAC"}),(0,n.jsx)(i.td,{children:"\u2705 GCP IAM"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Ecosistema .NET"})}),(0,n.jsx)(i.td,{children:"\u2705 Muy buena"}),(0,n.jsx)(i.td,{children:"\u2705 Muy buena"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo AWS"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo Azure"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo GCP"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Versionado"})}),(0,n.jsx)(i.td,{children:"\u2705 Autom\xe1tica"}),(0,n.jsx)(i.td,{children:"\u2705 Autom\xe1tica"}),(0,n.jsx)(i.td,{children:"\u2705 Nativo"}),(0,n.jsx)(i.td,{children:"\u2705 Nativo"}),(0,n.jsx)(i.td,{children:"\u2705 Nativo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"M\xf3dulos"})}),(0,n.jsx)(i.td,{children:"\u2705 Reutilizables"}),(0,n.jsx)(i.td,{children:"\u2705 Reutilizables"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo AWS"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo Azure"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Solo GCP"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Costos"})}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Por uso"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Por uso"}),(0,n.jsx)(i.td,{children:"\u2705 Incluido"}),(0,n.jsx)(i.td,{children:"\u2705 Incluido"}),(0,n.jsx)(i.td,{children:"\u2705 Incluido"})]})]})]}),"\n",(0,n.jsx)(i.h3,{id:"matriz-de-decisi\xf3n",children:"Matriz de Decisi\xf3n"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Soluci\xf3n"}),(0,n.jsx)(i.th,{children:"Agnosticidad"}),(0,n.jsx)(i.th,{children:"Operaci\xf3n"}),(0,n.jsx)(i.th,{children:"Seguridad"}),(0,n.jsx)(i.th,{children:"Ecosistema .NET"}),(0,n.jsx)(i.th,{children:"Recomendaci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Terraform"})}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Muy buena"}),(0,n.jsxs)(i.td,{children:["\u2705 ",(0,n.jsx)(i.strong,{children:"Seleccionada"})]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Pulumi"})}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Buena"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Muy buena"}),(0,n.jsx)(i.td,{children:"\ud83d\udfe1 Alternativa"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"AWS CloudFormation"})}),(0,n.jsx)(i.td,{children:"Mala"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Solo AWS"}),(0,n.jsx)(i.td,{children:"\u274c Descartada"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"ARM Templates"})}),(0,n.jsx)(i.td,{children:"Mala"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Solo Azure"}),(0,n.jsx)(i.td,{children:"\u274c Descartada"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"GCP Deployment Manager"})}),(0,n.jsx)(i.td,{children:"Mala"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Excelente"}),(0,n.jsx)(i.td,{children:"Solo GCP"}),(0,n.jsx)(i.td,{children:"\u274c Descartada"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"-an\xe1lisis-de-costos-tco-3-a\xf1os",children:"\ud83d\udcb0 AN\xc1LISIS DE COSTOS (TCO 3 a\xf1os)"}),"\n",(0,n.jsxs)(i.blockquote,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Metodolog\xeda y supuestos:"})," Se asume un uso promedio de 5 servicios, 3 entornos, multi-cloud. El TCO (Total Cost of Ownership) se calcula para un horizonte de 3 a\xf1os, incluyendo costos directos y estimaciones de operaci\xf3n. Los valores pueden variar seg\xfan volumen y proveedor."]}),"\n"]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Soluci\xf3n"}),(0,n.jsx)(i.th,{children:"Licenciamiento"}),(0,n.jsx)(i.th,{children:"Infraestructura"}),(0,n.jsx)(i.th,{children:"Operaci\xf3n"}),(0,n.jsx)(i.th,{children:"TCO 3 a\xf1os"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Terraform"}),(0,n.jsx)(i.td,{children:"OSS"}),(0,n.jsx)(i.td,{children:"US$0"}),(0,n.jsx)(i.td,{children:"US$18,000/a\xf1o"}),(0,n.jsx)(i.td,{children:"US$54,000"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Pulumi"}),(0,n.jsx)(i.td,{children:"OSS"}),(0,n.jsx)(i.td,{children:"US$0"}),(0,n.jsx)(i.td,{children:"US$24,000/a\xf1o"}),(0,n.jsx)(i.td,{children:"US$72,000"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"AWS CloudFormation"}),(0,n.jsx)(i.td,{children:"Incluido"}),(0,n.jsx)(i.td,{children:"US$0"}),(0,n.jsx)(i.td,{children:"US$15,000/a\xf1o"}),(0,n.jsx)(i.td,{children:"US$45,000"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"ARM Templates"}),(0,n.jsx)(i.td,{children:"Incluido"}),(0,n.jsx)(i.td,{children:"US$0"}),(0,n.jsx)(i.td,{children:"US$15,000/a\xf1o"}),(0,n.jsx)(i.td,{children:"US$45,000"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"GCP Deployment Manager"}),(0,n.jsx)(i.td,{children:"Incluido"}),(0,n.jsx)(i.td,{children:"US$0"}),(0,n.jsx)(i.td,{children:"US$18,000/a\xf1o"}),(0,n.jsx)(i.td,{children:"US$54,000"})]})]})]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"consideraciones-t\xe9cnicas-y-riesgos",children:"Consideraciones t\xe9cnicas y riesgos"}),"\n",(0,n.jsx)(i.h3,{id:"l\xedmites-clave",children:"L\xedmites clave"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Terraform:"})," sin l\xedmite pr\xe1ctico, depende de proveedor y recursos."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Pulumi:"})," sin l\xedmite pr\xe1ctico, depende de proveedor y recursos."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"AWS CloudFormation:"})," l\xedmite de recursos por stack, solo AWS."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"ARM Templates:"})," l\xedmite de recursos por deployment, solo Azure."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"GCP Deployment Manager:"})," l\xedmite de recursos por deployment, solo GCP."]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"riesgos-y-mitigaci\xf3n",children:"Riesgos y mitigaci\xf3n"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Vendor lock-in cloud:"})," mitigado con IaC agn\xf3stica y m\xf3dulos reutilizables."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Gesti\xf3n de estado:"})," mitigada con backends distribuidos y seguros."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Curva de aprendizaje HCL:"})," mitigada con capacitaci\xf3n y documentaci\xf3n."]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"\ufe0f-decisi\xf3n",children:"\u2714\ufe0f DECISI\xd3N"}),"\n",(0,n.jsxs)(i.p,{children:["Se selecciona ",(0,n.jsx)(i.strong,{children:"Terraform"})," como soluci\xf3n est\xe1ndar de infraestructura como c\xf3digo para todos los servicios corporativos, desacoplada mediante m\xf3dulos reutilizables y gesti\xf3n de estado segura. La arquitectura soporta migraci\xf3n y portabilidad multi-cloud."]}),"\n",(0,n.jsx)(i.h3,{id:"justificaci\xf3n",children:"Justificaci\xf3n"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Agnosticidad multi-cloud y portabilidad"}),"\n",(0,n.jsx)(i.li,{children:"Ecosistema maduro y m\xf3dulos reutilizables"}),"\n",(0,n.jsx)(i.li,{children:"Gesti\xf3n de estado robusta y segura"}),"\n",(0,n.jsx)(i.li,{children:"Integraci\xf3n nativa con CI/CD y pipelines"}),"\n",(0,n.jsx)(i.li,{children:"Sintaxis declarativa f\xe1cil de mantener"}),"\n",(0,n.jsx)(i.li,{children:"Comunidad activa y soporte extenso"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"alternativas-descartadas",children:"Alternativas descartadas"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Pulumi: menor adopci\xf3n y ecosistema vs Terraform"}),"\n",(0,n.jsx)(i.li,{children:"AWS CloudFormation, ARM Templates, GCP Deployment Manager: lock-in cloud, menor portabilidad"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"\ufe0f-consecuencias",children:"\u26a0\ufe0f CONSECUENCIAS"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"El c\xf3digo IaC debe desacoplarse del proveedor concreto mediante m\xf3dulos reutilizables"}),"\n",(0,n.jsx)(i.li,{children:"Se facilita la portabilidad y despliegue multi-cloud"}),"\n",(0,n.jsx)(i.li,{children:"Se requiere mantener buenas pr\xe1cticas de gesti\xf3n de estado y documentaci\xf3n"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"-referencias",children:"\ud83d\udcda REFERENCIAS"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.terraform.io/docs",children:"Terraform Documentation"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://registry.terraform.io/",children:"Terraform Registry"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://learn.hashicorp.com/terraform",children:"HashiCorp Learn"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}}}]);