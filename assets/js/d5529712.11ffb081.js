"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[5002],{8089:(e,d,s)=>{s.d(d,{A:()=>n});const n=s.p+"assets/images/sita_messaging_system_sender-72212d04517ee3ae7d65214fc3ae0644.png"},9409:(e,d,s)=>{s.d(d,{A:()=>n});const n=s.p+"assets/images/sita_messaging_system_event_processor-9633576d0e644b40cf758ecc22132527.png"},28453:(e,d,s)=>{s.d(d,{R:()=>t,x:()=>c});var n=s(96540);const i={},r=n.createContext(i);function t(e){const d=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(r.Provider,{value:d},e.children)}},35761:(e,d,s)=>{s.d(d,{A:()=>n});const n=s.p+"assets/images/sita_messaging_system-a235590cf4c92acf788bbcc1cf791ca3.png"},94585:(e,d,s)=>{s.r(d),s.d(d,{assets:()=>l,contentTitle:()=>c,default:()=>j,frontMatter:()=>t,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"servicios-corporativos/servicio-mensajeria-sita/vista-bloques-construccion","title":"5. Vista de bloques de construcci\xf3n","description":"Sistema SITA Messaging - Vista General","source":"@site/docs/servicios-corporativos/servicio-mensajeria-sita/05-vista-bloques-construccion.md","sourceDirName":"servicios-corporativos/servicio-mensajeria-sita","slug":"/servicios-corporativos/servicio-mensajeria-sita/vista-bloques-construccion","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-mensajeria-sita/vista-bloques-construccion","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/servicio-mensajeria-sita/05-vista-bloques-construccion.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"4. Estrategia de soluci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-mensajeria-sita/estrategia-solucion"},"next":{"title":"6. Vista de tiempo de ejecuci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-mensajeria-sita/vista-tiempo-ejecucion"}}');var i=s(74848),r=s(28453);const t={},c="5. Vista de bloques de construcci\xf3n",l={},h=[{value:"5.1 Contenedores principales",id:"51-contenedores-principales",level:2},{value:"5.2 Componentes principales",id:"52-componentes-principales",level:2},{value:"Event Processor",id:"event-processor",level:3},{value:"Message Sender",id:"message-sender",level:3},{value:"5.4 Esquemas de base de datos",id:"54-esquemas-de-base-de-datos",level:2},{value:"5.4.1 Modelo de datos (ER)",id:"541-modelo-de-datos-er",level:3},{value:"5.4.2 Tabla: <code>messages</code>",id:"542-tabla-messages",level:3},{value:"5.4.3 Tabla: <code>file_templates</code>",id:"543-tabla-file_templates",level:3},{value:"5.4.4 Tabla: <code>tenant_settings</code>",id:"544-tabla-tenant_settings",level:3},{value:"5.4.5 Tabla: <code>partner_configs</code>",id:"545-tabla-partner_configs",level:3},{value:"5.4.6 Tabla: <code>files</code>",id:"546-tabla-files",level:3}];function a(e){const d={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.header,{children:(0,i.jsx)(d.h1,{id:"5-vista-de-bloques-de-construcci\xf3n",children:"5. Vista de bloques de construcci\xf3n"})}),"\n",(0,i.jsxs)(d.p,{children:[(0,i.jsx)(d.img,{alt:"Sistema SITA Messaging - Vista General",src:s(35761).A+"",width:"5371",height:"2220"}),"\n",(0,i.jsx)(d.em,{children:"Figura 5.1: Vista general de contenedores"})]}),"\n",(0,i.jsx)(d.h2,{id:"51-contenedores-principales",children:"5.1 Contenedores principales"}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Contenedor"}),(0,i.jsx)(d.th,{children:"Responsabilidad principal"}),(0,i.jsx)(d.th,{children:"Tecnolog\xeda"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Event Processor"}),(0,i.jsx)(d.td,{children:"Ingesta y procesamiento de eventos SITA"}),(0,i.jsx)(d.td,{children:".NET 8, Worker Service, SNS+SQS"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Message Sender"}),(0,i.jsx)(d.td,{children:"Env\xedo de archivos SITA a partners"}),(0,i.jsx)(d.td,{children:".NET 8, Background Service"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SITA Messaging DB"}),(0,i.jsx)(d.td,{children:"Almacenamiento de datos y colas"}),(0,i.jsx)(d.td,{children:"PostgreSQL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SITA Message Queue"}),(0,i.jsx)(d.td,{children:"Cola de eventos para procesamiento"}),(0,i.jsx)(d.td,{children:"AWS SQS"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"File Storage"}),(0,i.jsx)(d.td,{children:"Almacenamiento de archivos SITA"}),(0,i.jsx)(d.td,{children:"S3-compatible"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Autenticaci\xf3n"}),(0,i.jsx)(d.td,{children:"Gesti\xf3n de identidad y acceso"}),(0,i.jsx)(d.td,{children:"Keycloak"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Observabilidad"}),(0,i.jsx)(d.td,{children:"M\xe9tricas, logs, trazabilidad"}),(0,i.jsx)(d.td,{children:"Prometheus, Serilog, OpenTelemetry"})]})]})]}),"\n",(0,i.jsx)(d.h2,{id:"52-componentes-principales",children:"5.2 Componentes principales"}),"\n",(0,i.jsx)(d.h3,{id:"event-processor",children:"Event Processor"}),"\n",(0,i.jsxs)(d.p,{children:[(0,i.jsx)(d.img,{alt:"Event Processor - Vista de Componentes",src:s(9409).A+"",width:"5315",height:"3362"}),"\n",(0,i.jsx)(d.em,{children:"Figura 5.2: Componentes principales del procesamiento de eventos"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Componente"}),(0,i.jsx)(d.th,{children:"Rol/Funci\xf3n"}),(0,i.jsx)(d.th,{children:"Tecnolog\xeda"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Event Consumer"}),(0,i.jsx)(d.td,{children:"Consume y deserializa eventos de Track & Trace"}),(0,i.jsx)(d.td,{children:".NET 8"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Event Orchestrator"}),(0,i.jsx)(d.td,{children:"Coordina generaci\xf3n y registro de mensajes SITA"}),(0,i.jsx)(d.td,{children:".NET 8"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Message Repository"}),(0,i.jsx)(d.td,{children:"Registra mensajes SITA para env\xedo posterior"}),(0,i.jsx)(d.td,{children:".NET 8, EF Core"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Template Engine"}),(0,i.jsx)(d.td,{children:"Procesa plantillas SITA"}),(0,i.jsx)(d.td,{children:".NET 8, Scriban"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Template Repository"}),(0,i.jsx)(d.td,{children:"Accede a plantillas SITA por partner y tipo de mensaje"}),(0,i.jsx)(d.td,{children:".NET 8, EF Core"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"File Generator"}),(0,i.jsx)(d.td,{children:"Genera archivos SITA finales"}),(0,i.jsx)(d.td,{children:".NET 8"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"TenantSettings Repository"}),(0,i.jsx)(d.td,{children:"Gestiona configuraciones por tenant"}),(0,i.jsx)(d.td,{children:".NET 8, EF Core"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SecretsAndConfigs"}),(0,i.jsx)(d.td,{children:"Acceso centralizado a configuraciones y secretos"}),(0,i.jsx)(d.td,{children:"AWS Secrets Manager, AppConfig"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Observability"}),(0,i.jsx)(d.td,{children:"Logging, m\xe9tricas, health checks"}),(0,i.jsx)(d.td,{children:"Serilog, Prometheus, HealthChecks"})]})]})]}),"\n",(0,i.jsx)(d.h3,{id:"message-sender",children:"Message Sender"}),"\n",(0,i.jsxs)(d.p,{children:[(0,i.jsx)(d.img,{alt:"Sender - Vista de Componentes",src:s(8089).A+"",width:"5111",height:"2695"}),"\n",(0,i.jsx)(d.em,{children:"Figura 5.3: Componentes principales del servicio de env\xedo"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Componente"}),(0,i.jsx)(d.th,{children:"Rol/Funci\xf3n"}),(0,i.jsx)(d.th,{children:"Tecnolog\xeda"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Sending Worker"}),(0,i.jsx)(d.td,{children:"Monitorea y orquesta env\xedos de mensajes SITA"}),(0,i.jsx)(d.td,{children:".NET 8, Quartz.NET"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Message Dispatch Service"}),(0,i.jsx)(d.td,{children:"Orquesta env\xedo programado a partners externos"}),(0,i.jsx)(d.td,{children:".NET 8"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Message Repository"}),(0,i.jsx)(d.td,{children:"Consulta y actualiza mensajes SITA"}),(0,i.jsx)(d.td,{children:".NET 8, EF Core"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"PartnerConfig Repository"}),(0,i.jsx)(d.td,{children:"Gestiona preferencias de env\xedo por partner/tenant"}),(0,i.jsx)(d.td,{children:".NET 8, EF Core"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"File Fetcher"}),(0,i.jsx)(d.td,{children:"Obtiene archivos SITA desde storage"}),(0,i.jsx)(d.td,{children:".NET 8, S3 SDK"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Email Sender"}),(0,i.jsx)(d.td,{children:"Env\xeda archivos SITA por email usando Notification System"}),(0,i.jsx)(d.td,{children:".NET 8, Notification System API"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SITA Provider Sender"}),(0,i.jsx)(d.td,{children:"Env\xeda archivos SITA v\xeda API SITA"}),(0,i.jsx)(d.td,{children:".NET 8, HTTP Client"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"SecretsAndConfigs"}),(0,i.jsx)(d.td,{children:"Acceso centralizado a configuraciones y secretos"}),(0,i.jsx)(d.td,{children:"AWS Secrets Manager, AppConfig"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"Observability"}),(0,i.jsx)(d.td,{children:"Logging, m\xe9tricas, health checks"}),(0,i.jsx)(d.td,{children:"Serilog, Prometheus, HealthChecks"})]})]})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"54-esquemas-de-base-de-datos",children:"5.4 Esquemas de base de datos"}),"\n",(0,i.jsx)(d.h3,{id:"541-modelo-de-datos-er",children:"5.4.1 Modelo de datos (ER)"}),"\n",(0,i.jsx)(d.mermaid,{value:'erDiagram\n    messages {\n        UUID id PK\n        VARCHAR(50) tenant_id\n        VARCHAR(50) partner_id\n        VARCHAR(100) event_id\n        UUID template_id FK\n        UUID file_id FK\n        VARCHAR(30) status\n        TIMESTAMP created_at\n        TIMESTAMP sent_at\n        TEXT error\n    }\n    file_templates {\n        UUID id PK\n        VARCHAR(50) partner_id\n        VARCHAR(50) file_type\n        TEXT content\n        JSONB variables\n        INT version\n        TIMESTAMP created_at\n    }\n    tenant_settings {\n        UUID id PK\n        VARCHAR(50) tenant_id\n        VARCHAR(100) key\n        TEXT value\n        TIMESTAMP updated_at\n    }\n    partner_configs {\n        UUID id PK\n        VARCHAR(50) tenant_id\n        VARCHAR(50) partner_id\n        VARCHAR(30) send_method\n        VARCHAR(200) endpoint\n        JSONB credentials\n        BOOLEAN active\n        TIMESTAMP updated_at\n    }\n    files {\n        UUID id PK\n        UUID message_id FK\n        VARCHAR(50) tenant_id\n        VARCHAR(200) storage_path\n        VARCHAR(100) file_name\n        TIMESTAMP created_at\n    }\n\n    messages ||--o{ files : "1:N"\n    messages ||--o{ file_templates : "N:1"\n    messages ||--o{ partner_configs : "N:1"\n    tenant_settings ||--o{ partner_configs : "1:N"\n    tenant_settings ||--o{ messages : "1:N"'}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsxs)(d.h3,{id:"542-tabla-messages",children:["5.4.2 Tabla: ",(0,i.jsx)(d.code,{children:"messages"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"}),(0,i.jsx)(d.th,{children:"Restricciones"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Identificador \xfanico del mensaje SITA"}),(0,i.jsx)(d.td,{children:"PRIMARY KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"tenant_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del tenant"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"partner_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del partner"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"event_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(100)"}),(0,i.jsx)(d.td,{children:"ID del evento origen"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"template_id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Referencia a la plantilla utilizada"}),(0,i.jsx)(d.td,{children:"FOREIGN KEY, NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"file_id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Referencia al archivo generado"}),(0,i.jsx)(d.td,{children:"FOREIGN KEY, NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"status"}),(0,i.jsx)(d.td,{children:"VARCHAR(30)"}),(0,i.jsx)(d.td,{children:"Estado del mensaje: pending, sent, failed"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"created_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de creaci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT NOW()"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"sent_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de env\xedo"}),(0,i.jsx)(d.td,{children:"NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"error"}),(0,i.jsx)(d.td,{children:"TEXT"}),(0,i.jsx)(d.td,{children:"Mensaje de error (si aplica)"}),(0,i.jsx)(d.td,{children:"NULL"})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Ejemplo de datos:"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"id"}),(0,i.jsx)(d.th,{children:"tenant_id"}),(0,i.jsx)(d.th,{children:"partner_id"}),(0,i.jsx)(d.th,{children:"event_id"}),(0,i.jsx)(d.th,{children:"template_id"}),(0,i.jsx)(d.th,{children:"file_id"}),(0,i.jsx)(d.th,{children:"status"}),(0,i.jsx)(d.th,{children:"created_at"}),(0,i.jsx)(d.th,{children:"sent_at"}),(0,i.jsx)(d.th,{children:"error"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"1e2d3c4b-5a6f-7e8d-9c0b-1a2b3c4d5e6f"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tenant-pe"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"partner-01"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"evt-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tpl-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"file-001"})}),(0,i.jsx)(d.td,{children:"sent"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T10:01:00Z"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T10:02:00Z"})}),(0,i.jsx)(d.td,{children:"NULL"})]})})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsxs)(d.h3,{id:"543-tabla-file_templates",children:["5.4.3 Tabla: ",(0,i.jsx)(d.code,{children:"file_templates"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"}),(0,i.jsx)(d.th,{children:"Restricciones"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Identificador \xfanico de la plantilla de archivo SITA"}),(0,i.jsx)(d.td,{children:"PRIMARY KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"partner_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del partner"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"file_type"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Tipo de archivo SITA"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"content"}),(0,i.jsx)(d.td,{children:"TEXT"}),(0,i.jsx)(d.td,{children:"Contenido de la plantilla de archivo"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"variables"}),(0,i.jsx)(d.td,{children:"JSONB"}),(0,i.jsx)(d.td,{children:"Lista de par\xe1metros/variables a reemplazar en el archivo"}),(0,i.jsx)(d.td,{children:"NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"version"}),(0,i.jsx)(d.td,{children:"INT"}),(0,i.jsx)(d.td,{children:"Versi\xf3n de la plantilla"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT 1"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"created_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de creaci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT NOW()"})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Ejemplo de datos:"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"id"}),(0,i.jsx)(d.th,{children:"partner_id"}),(0,i.jsx)(d.th,{children:"file_type"}),(0,i.jsx)(d.th,{children:"content"}),(0,i.jsx)(d.th,{children:"variables"}),(0,i.jsx)(d.th,{children:"version"}),(0,i.jsx)(d.th,{children:"created_at"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tpl-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"partner-01"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"FBL"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"...contenido..."})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:'{"flightNumber":"string","date":"date"}'})}),(0,i.jsx)(d.td,{children:"1"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T09:00:00Z"})})]})})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsxs)(d.h3,{id:"544-tabla-tenant_settings",children:["5.4.4 Tabla: ",(0,i.jsx)(d.code,{children:"tenant_settings"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"}),(0,i.jsx)(d.th,{children:"Restricciones"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Identificador \xfanico de la configuraci\xf3n"}),(0,i.jsx)(d.td,{children:"PRIMARY KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"tenant_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del tenant"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"key"}),(0,i.jsx)(d.td,{children:"VARCHAR(100)"}),(0,i.jsx)(d.td,{children:"Clave de configuraci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"value"}),(0,i.jsx)(d.td,{children:"TEXT"}),(0,i.jsx)(d.td,{children:"Valor de configuraci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"updated_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de actualizaci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT NOW()"})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Ejemplo de datos:"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"id"}),(0,i.jsx)(d.th,{children:"tenant_id"}),(0,i.jsx)(d.th,{children:"key"}),(0,i.jsx)(d.th,{children:"value"}),(0,i.jsx)(d.th,{children:"updated_at"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"ts-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tenant-pe"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"timezone"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"America/Lima"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T08:00:00Z"})})]})})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsxs)(d.h3,{id:"545-tabla-partner_configs",children:["5.4.5 Tabla: ",(0,i.jsx)(d.code,{children:"partner_configs"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"}),(0,i.jsx)(d.th,{children:"Restricciones"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Identificador \xfanico de la configuraci\xf3n"}),(0,i.jsx)(d.td,{children:"PRIMARY KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"tenant_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del tenant"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"partner_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del partner"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"send_method"}),(0,i.jsx)(d.td,{children:"VARCHAR(30)"}),(0,i.jsx)(d.td,{children:"M\xe9todo de env\xedo: email, api, sftp"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"endpoint"}),(0,i.jsx)(d.td,{children:"VARCHAR(200)"}),(0,i.jsx)(d.td,{children:"Endpoint de integraci\xf3n"}),(0,i.jsx)(d.td,{children:"NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"credentials"}),(0,i.jsx)(d.td,{children:"JSONB"}),(0,i.jsx)(d.td,{children:"Credenciales y configuraci\xf3n"}),(0,i.jsx)(d.td,{children:"NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"active"}),(0,i.jsx)(d.td,{children:"BOOLEAN"}),(0,i.jsx)(d.td,{children:"Configuraci\xf3n activa"}),(0,i.jsx)(d.td,{children:"DEFAULT TRUE"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"updated_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de actualizaci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT NOW()"})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Ejemplo de datos:"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"id"}),(0,i.jsx)(d.th,{children:"tenant_id"}),(0,i.jsx)(d.th,{children:"partner_id"}),(0,i.jsx)(d.th,{children:"send_method"}),(0,i.jsx)(d.th,{children:"endpoint"}),(0,i.jsx)(d.th,{children:"credentials"}),(0,i.jsx)(d.th,{children:"active"}),(0,i.jsx)(d.th,{children:"updated_at"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"pc-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tenant-pe"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"partner-01"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"sftp"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"sftp://host"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"{...}"})}),(0,i.jsx)(d.td,{children:"true"}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T08:30:00Z"})})]})})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsxs)(d.h3,{id:"546-tabla-files",children:["5.4.6 Tabla: ",(0,i.jsx)(d.code,{children:"files"})]}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"}),(0,i.jsx)(d.th,{children:"Restricciones"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Identificador \xfanico del archivo"}),(0,i.jsx)(d.td,{children:"PRIMARY KEY"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"message_id"}),(0,i.jsx)(d.td,{children:"UUID"}),(0,i.jsx)(d.td,{children:"Referencia al mensaje SITA"}),(0,i.jsx)(d.td,{children:"FOREIGN KEY, NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"tenant_id"}),(0,i.jsx)(d.td,{children:"VARCHAR(50)"}),(0,i.jsx)(d.td,{children:"Identificador del tenant"}),(0,i.jsx)(d.td,{children:"NOT NULL, INDEX"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"storage_path"}),(0,i.jsx)(d.td,{children:"VARCHAR(200)"}),(0,i.jsx)(d.td,{children:"Ruta en el storage S3"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"file_name"}),(0,i.jsx)(d.td,{children:"VARCHAR(100)"}),(0,i.jsx)(d.td,{children:"Nombre del archivo"}),(0,i.jsx)(d.td,{children:"NOT NULL"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:"created_at"}),(0,i.jsx)(d.td,{children:"TIMESTAMP"}),(0,i.jsx)(d.td,{children:"Fecha de creaci\xf3n"}),(0,i.jsx)(d.td,{children:"NOT NULL, DEFAULT NOW()"})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Ejemplo de datos:"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"id"}),(0,i.jsx)(d.th,{children:"message_id"}),(0,i.jsx)(d.th,{children:"tenant_id"}),(0,i.jsx)(d.th,{children:"storage_path"}),(0,i.jsx)(d.th,{children:"file_name"}),(0,i.jsx)(d.th,{children:"created_at"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"file-001"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"1e2d3c4b-5a6f-7e8d-9c0b-1a2b3c4d5e6f"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"tenant-pe"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"/sita/2025/09/24/"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"FBL_001.txt"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"2025-09-24T10:02:00Z"})})]})})]}),"\n",(0,i.jsx)(d.hr,{})]})}function j(e={}){const{wrapper:d}={...(0,r.R)(),...e.components};return d?(0,i.jsx)(d,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);