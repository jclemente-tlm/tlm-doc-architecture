"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[9975],{28453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>c});var s=n(96540);const r={},a=s.createContext(r);function t(e){const i=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:i},e.children)}},32613:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"apendices/librerias-compartidas/observability-shared","title":"Observability.Shared","description":"Objetivo","source":"@site/docs/apendices/librerias-compartidas/observability-shared.md","sourceDirName":"apendices/librerias-compartidas","slug":"/apendices/librerias-compartidas/observability-shared","permalink":"/tlm-doc-architecture/docs/apendices/librerias-compartidas/observability-shared","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/apendices/librerias-compartidas/observability-shared.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Observability.Shared","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SecretsAndConfigs.Shared","permalink":"/tlm-doc-architecture/docs/apendices/librerias-compartidas/secrets-configs-shared"}}');var r=n(74848),a=n(28453);const t={title:"Observability.Shared",sidebar_position:2},c=void 0,o={},l=[{value:"Objetivo",id:"objetivo",level:2},{value:"Stack",id:"stack",level:2},{value:"Componentes",id:"componentes",level:2},{value:"Integraci\xf3n en microservicios .NET 8",id:"integraci\xf3n-en-microservicios-net-8",level:2},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:2},{value:"Buenas pr\xe1cticas",id:"buenas-pr\xe1cticas",level:2}];function d(e){const i={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"objetivo",children:"Objetivo"}),"\n",(0,r.jsxs)(i.p,{children:["Paquete NuGet que unifica la ",(0,r.jsx)(i.strong,{children:"observabilidad"})," de todos los microservicios .NET 8: logging, m\xe9tricas, tracing y health checks. Facilita la instrumentaci\xf3n consistente sin necesidad de desarrollos adicionales."]}),"\n",(0,r.jsx)(i.h2,{id:"stack",children:"Stack"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Logging: ",(0,r.jsx)(i.strong,{children:"Serilog"})]}),"\n",(0,r.jsxs)(i.li,{children:["M\xe9tricas: ",(0,r.jsx)(i.strong,{children:"Prometheus"})]}),"\n",(0,r.jsxs)(i.li,{children:["Logs centralizados: ",(0,r.jsx)(i.strong,{children:"Loki"})]}),"\n",(0,r.jsxs)(i.li,{children:["Tracing distribuido: ",(0,r.jsx)(i.strong,{children:"Jaeger"})]}),"\n",(0,r.jsxs)(i.li,{children:["Dashboard: ",(0,r.jsx)(i.strong,{children:"Grafana"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"componentes",children:"Componentes"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Observability.Shared/\n\u2502\n\u251c\u2500\u2500 Logging/\n\u2502   \u2514\u2500\u2500 SerilogConfig.cs\n\u251c\u2500\u2500 Metrics/\n\u2502   \u2514\u2500\u2500 PrometheusMetrics.cs\n\u251c\u2500\u2500 Tracing/\n\u2502   \u2514\u2500\u2500 JaegerTracing.cs\n\u251c\u2500\u2500 HealthChecks/\n\u2502   \u2514\u2500\u2500 DbHealthCheck.cs\n\u2514\u2500\u2500 Extensions/\n    \u2514\u2500\u2500 ServiceCollectionExtensions.cs  // AddObservability()\n"})}),"\n",(0,r.jsx)(i.h2,{id:"integraci\xf3n-en-microservicios-net-8",children:"Integraci\xf3n en microservicios .NET 8"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-csharp",children:"var builder = WebApplication.CreateBuilder(args);\n\n// Registra logging, m\xe9tricas, tracing y health checks\nbuilder.Services.AddObservability(builder.Configuration);\n\nvar app = builder.Build();\n\n// Middleware opcional para tracing/logging\napp.UseObservability();\n\napp.Run();\n"})}),"\n",(0,r.jsx)(i.h2,{id:"configuraci\xf3n",children:"Configuraci\xf3n"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Toda la configuraci\xf3n (endpoints, niveles de log, m\xe9tricas y tracing) se maneja desde ",(0,r.jsx)(i.code,{children:"appsettings.json"})," o variables de entorno."]}),"\n",(0,r.jsx)(i.li,{children:"Permite cambiar backend de observabilidad sin despliegues adicionales."}),"\n",(0,r.jsx)(i.li,{children:"Los dashboards en Grafana y Jaeger pueden configurar autorefresh de paneles seg\xfan necesidad."}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"buenas-pr\xe1cticas",children:"Buenas pr\xe1cticas"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Usar los ",(0,r.jsx)(i.strong,{children:"enrichers est\xe1ndar"}),": ApplicationName, Environment, RequestId, CorrelationId."]}),"\n",(0,r.jsx)(i.li,{children:"Mantener m\xe9tricas y health checks consistentes entre servicios."}),"\n",(0,r.jsx)(i.li,{children:"Evitar logging pesado en loops cr\xedticos para no saturar Loki."}),"\n"]}),"\n",(0,r.jsx)(i.hr,{})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);