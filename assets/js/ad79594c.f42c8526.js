"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[8973],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var r=i(96540);const t={},s=r.createContext(t);function c(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(s.Provider,{value:n},e.children)}},63814:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"servicios-corporativos/servicio-track-trace/vista-tiempo-ejecucion","title":"6. Vista de Tiempo de Ejecuci\xf3n","description":"6.1 Escenarios Principales","source":"@site/docs/servicios-corporativos/servicio-track-trace/06-vista-tiempo-ejecucion.md","sourceDirName":"servicios-corporativos/servicio-track-trace","slug":"/servicios-corporativos/servicio-track-trace/vista-tiempo-ejecucion","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/vista-tiempo-ejecucion","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/servicio-track-trace/06-vista-tiempo-ejecucion.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"5. Vista de Bloques de Construcci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/vista-bloques-construccion"},"next":{"title":"7. Vista de Implementaci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/servicio-track-trace/vista-implementacion"}}');var t=i(74848),s=i(28453);const c={},a="6. Vista de Tiempo de Ejecuci\xf3n",o={},d=[{value:"6.1 Escenarios Principales",id:"61-escenarios-principales",level:2},{value:"6.2 Patrones de Interacci\xf3n",id:"62-patrones-de-interacci\xf3n",level:2},{value:"6.3 Escenarios de Runtime",id:"63-escenarios-de-runtime",level:2},{value:"6.3.1 Captura de hito operacional y transmisi\xf3n SITA",id:"631-captura-de-hito-operacional-y-transmisi\xf3n-sita",level:3},{value:"6.3.2 Consulta de Trazabilidad",id:"632-consulta-de-trazabilidad",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",mermaid:"mermaid",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"6-vista-de-tiempo-de-ejecuci\xf3n",children:"6. Vista de Tiempo de Ejecuci\xf3n"})}),"\n",(0,t.jsx)(n.h2,{id:"61-escenarios-principales",children:"6.1 Escenarios Principales"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Escenario"}),(0,t.jsx)(n.th,{children:"Flujo"}),(0,t.jsx)(n.th,{children:"Componentes principales"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Captura de hito y transmisi\xf3n SITA"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"API REST"})," \u2192 ",(0,t.jsx)(n.code,{children:"Validator"})," \u2192 ",(0,t.jsx)(n.code,{children:"Event Store"})," \u2192 ",(0,t.jsx)(n.code,{children:"Event Bus"})," \u2192 ",(0,t.jsx)(n.code,{children:"SITA Messaging"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"API"}),", ",(0,t.jsx)(n.code,{children:"Validator"}),", ",(0,t.jsx)(n.code,{children:"Event Store"}),", ",(0,t.jsx)(n.code,{children:"Event Bus"}),", ",(0,t.jsx)(n.code,{children:"SITA"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Consulta de trazabilidad"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"API REST"})," \u2192 ",(0,t.jsx)(n.code,{children:"Auth"})," \u2192 ",(0,t.jsx)(n.code,{children:"Cache"}),"/",(0,t.jsx)(n.code,{children:"Query Handler"})," \u2192 ",(0,t.jsx)(n.code,{children:"Read Store"})]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"API"}),", ",(0,t.jsx)(n.code,{children:"Auth"}),", ",(0,t.jsx)(n.code,{children:"Cache"}),", ",(0,t.jsx)(n.code,{children:"Query Handler"}),", ",(0,t.jsx)(n.code,{children:"Read Store"})]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"62-patrones-de-interacci\xf3n",children:"6.2 Patrones de Interacci\xf3n"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Patr\xf3n"}),(0,t.jsx)(n.th,{children:"Descripci\xf3n"}),(0,t.jsx)(n.th,{children:"Tecnolog\xeda"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"CQRS"})}),(0,t.jsx)(n.td,{children:"Separaci\xf3n comando/consulta"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"API"}),", ",(0,t.jsx)(n.code,{children:"Processor"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Event Sourcing"})}),(0,t.jsx)(n.td,{children:"Registro de eventos"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"PostgreSQL"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Pub/Sub"})}),(0,t.jsx)(n.td,{children:"Propagaci\xf3n de eventos"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"Event Bus"}),", ",(0,t.jsx)(n.code,{children:"SITA"})]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"63-escenarios-de-runtime",children:"6.3 Escenarios de Runtime"}),"\n",(0,t.jsx)(n.h3,{id:"631-captura-de-hito-operacional-y-transmisi\xf3n-sita",children:"6.3.1 Captura de hito operacional y transmisi\xf3n SITA"}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Cliente as Cliente externo\n    participant API as Tracking API\n    participant EventStore as Tracking Database\n    participant Processor as Tracking Event Processor\n    participant EventBus as Event Bus\n    participant SITA as SITA Messaging\n\n    Cliente->>API: POST /api/v1/events (hito)\n    API->>API: Validar evento\n    alt Evento v\xe1lido\n        API->>EventStore: Guardar evento\n        alt Guardado exitoso\n            EventStore--\x3e>API: Confirmaci\xf3n\n            Processor->>EventStore: Leer nuevos eventos (polling/suscripci\xf3n)\n            Processor->>EventBus: Publicar evento relevante\n            SITA->>EventBus: Suscribirse a eventos relevantes\n            EventBus--\x3e>SITA: Mensaje SITA\n            SITA--\x3e>Processor: Confirmaci\xf3n (ACK)\n        else Error al guardar\n            EventStore--\x3e>API: Error\n            API--\x3e>Cliente: 400 BadRequest\n        end\n    else Evento inv\xe1lido\n        API--\x3e>Cliente: 400 BadRequest\n    end"}),"\n",(0,t.jsx)(n.h3,{id:"632-consulta-de-trazabilidad",children:"6.3.2 Consulta de Trazabilidad"}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Cliente as Cliente externo\n    participant API as Tracking API\n    participant BD as Tracking Database\n\n    Cliente->>API: GET /api/v1/trace/{entityId}\n    API->>API: Procesar consulta (Query Handler interno)\n    API->>BD: Consultar eventos de entidad\n    BD--\x3e>API: ListaEventos[]\n    API->>API: Construir vista de trazabilidad\n    API--\x3e>Cliente: 200 OK {datosTrazabilidad}"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);