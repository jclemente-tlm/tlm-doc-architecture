"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[275],{28453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>o});var c=i(96540);const d={},n=c.createContext(d);function r(e){const s=c.useContext(n);return c.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),c.createElement(n.Provider,{value:s},e.children)}},39807:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"servicios-corporativos/api-gateway/vista-bloques-construccion","title":"5. Vista de bloques de construcci\xf3n","description":"API Gateway - Vista de Componentes","source":"@site/docs/servicios-corporativos/api-gateway/05-vista-bloques-construccion.md","sourceDirName":"servicios-corporativos/api-gateway","slug":"/servicios-corporativos/api-gateway/vista-bloques-construccion","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/vista-bloques-construccion","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/api-gateway/05-vista-bloques-construccion.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"4. Estrategia de soluci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/estrategia-solucion"},"next":{"title":"6. Vista de tiempo de ejecuci\xf3n","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/vista-tiempo-ejecucion"}}');var d=i(74848),n=i(28453);const r={},o="5. Vista de bloques de construcci\xf3n",t={},l=[{value:"5.1 Componentes principales",id:"51-componentes-principales",level:2},{value:"5.2 Flujo de procesamiento",id:"52-flujo-de-procesamiento",level:2},{value:"5.3 Relaci\xf3n con otros sistemas",id:"53-relaci\xf3n-con-otros-sistemas",level:2},{value:"5.4 Consideraciones de despliegue",id:"54-consideraciones-de-despliegue",level:2}];function a(e){const s={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"5-vista-de-bloques-de-construcci\xf3n",children:"5. Vista de bloques de construcci\xf3n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"API Gateway - Vista de Componentes",src:i(56759).A+"",width:"7670",height:"3514"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsxs)(s.em,{children:["Figura 5.1: Vista de componentes del ",(0,d.jsx)(s.code,{children:"API Gateway"})," (ver modelo Structurizr para relaciones y dependencias)"]})}),"\n",(0,d.jsx)(s.h2,{id:"51-componentes-principales",children:"5.1 Componentes principales"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Componente"}),(0,d.jsx)(s.th,{children:"Responsabilidad"}),(0,d.jsx)(s.th,{children:"Tecnolog\xeda"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"YARP Proxy"})}),(0,d.jsx)(s.td,{children:"Enrutamiento y proxy reverso"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"YARP"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Auth Middleware"})}),(0,d.jsxs)(s.td,{children:["Validaci\xf3n de tokens ",(0,d.jsx)(s.code,{children:"JWT"})]}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".NET 8"}),", ",(0,d.jsx)(s.code,{children:"Keycloak"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Rate Limiter"})}),(0,d.jsx)(s.td,{children:"Control de velocidad multi-tenant"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Redis"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Load Balancer"})}),(0,d.jsx)(s.td,{children:"Distribuci\xf3n de carga"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"ALB"}),", ",(0,d.jsx)(s.code,{children:"YARP"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Circuit Breaker"})}),(0,d.jsx)(s.td,{children:"Resiliencia ante fallos"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Polly"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Logging"})}),(0,d.jsx)(s.td,{children:"Registro estructurado de eventos"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"Serilog"}),", ",(0,d.jsx)(s.code,{children:"Loki"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Metrics"})}),(0,d.jsx)(s.td,{children:"Recolecci\xf3n de m\xe9tricas"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Prometheus"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Tracing"})}),(0,d.jsx)(s.td,{children:"Trazabilidad distribuida"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"Jaeger"}),", ",(0,d.jsx)(s.code,{children:"OpenTelemetry"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Configuraci\xf3n"})}),(0,d.jsx)(s.td,{children:"Configuraci\xf3n din\xe1mica y secretos"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"AWS SSM"}),", ",(0,d.jsx)(s.code,{children:"Secrets Manager"})]})]})]})]}),"\n",(0,d.jsx)(s.h2,{id:"52-flujo-de-procesamiento",children:"5.2 Flujo de procesamiento"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Paso"}),(0,d.jsx)(s.th,{children:"Acci\xf3n"}),(0,d.jsx)(s.th,{children:"Componente"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"1"})}),(0,d.jsx)(s.td,{children:"Recepci\xf3n de solicitud"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"YARP Proxy"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"2"})}),(0,d.jsx)(s.td,{children:"Validaci\xf3n de autenticaci\xf3n"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Auth Middleware"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"3"})}),(0,d.jsx)(s.td,{children:"Verificaci\xf3n de l\xedmites"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Rate Limiter"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"4"})}),(0,d.jsx)(s.td,{children:"Enrutamiento a servicio"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Load Balancer"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"5"})}),(0,d.jsx)(s.td,{children:"Circuit breaking y resiliencia"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Polly"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"6"})}),(0,d.jsx)(s.td,{children:"Logging y m\xe9tricas"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"Serilog"}),", ",(0,d.jsx)(s.code,{children:"Loki"}),", ",(0,d.jsx)(s.code,{children:"Prometheus"}),", ",(0,d.jsx)(s.code,{children:"Jaeger"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"7"})}),(0,d.jsx)(s.td,{children:"Respuesta al cliente"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"YARP Proxy"})})]})]})]}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:["Todos los bloques y relaciones est\xe1n alineados con el modelo C4 en Structurizr y los ADRs globales. Los componentes de observabilidad (",(0,d.jsx)(s.code,{children:"Grafana"}),", ",(0,d.jsx)(s.code,{children:"Prometheus"}),", ",(0,d.jsx)(s.code,{children:"Loki"}),", ",(0,d.jsx)(s.code,{children:"Jaeger"}),") son parte integral del flujo y monitoreo."]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"53-relaci\xf3n-con-otros-sistemas",children:"5.3 Relaci\xf3n con otros sistemas"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["El ",(0,d.jsx)(s.code,{children:"API Gateway"})," interact\xfaa con microservicios corporativos, sistemas de identidad (",(0,d.jsx)(s.code,{children:"Keycloak"}),"), servicios de notificaci\xf3n, y plataformas de configuraci\xf3n y secretos, seg\xfan lo definido en los diagramas Structurizr."]}),"\n",(0,d.jsx)(s.li,{children:"La integraci\xf3n y dependencias est\xe1n documentadas en los modelos DSL y se reflejan en las vistas de componentes y despliegue."}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"54-consideraciones-de-despliegue",children:"5.4 Consideraciones de despliegue"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Todos los componentes se despliegan en ",(0,d.jsx)(s.code,{children:"AWS ECS Fargate"})," usando ",(0,d.jsx)(s.code,{children:"Terraform"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:["Observabilidad y monitoreo centralizados con ",(0,d.jsx)(s.code,{children:"Grafana"}),", ",(0,d.jsx)(s.code,{children:"Prometheus"}),", ",(0,d.jsx)(s.code,{children:"Loki"})," y ",(0,d.jsx)(s.code,{children:"Jaeger"}),"."]}),"\n",(0,d.jsx)(s.li,{children:"Configuraci\xf3n y secretos gestionados externamente, con recarga din\xe1mica y validaci\xf3n de salud."}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsx)(s.p,{children:"Esta vista de bloques est\xe1 alineada con los modelos C4 y Structurizr DSL, asegurando trazabilidad, observabilidad y despliegue profesional en AWS ECS/Terraform."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},56759:(e,s,i)=>{i.d(s,{A:()=>c});const c=i.p+"assets/images/api_gateway_yarp-7ea7a72ef559cf02bf717d6b1527bbdb.png"}}]);