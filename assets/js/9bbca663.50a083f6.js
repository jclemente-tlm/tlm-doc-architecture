"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[4287],{2645:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"servicios-corporativos/api-gateway/restricciones-arquitectura","title":"2. Restricciones De La Arquitectura","description":"2.1 Restricciones T\xe9cnicas Y De Plataforma","source":"@site/docs/servicios-corporativos/api-gateway/02-restricciones-arquitectura.md","sourceDirName":"servicios-corporativos/api-gateway","slug":"/servicios-corporativos/api-gateway/restricciones-arquitectura","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/restricciones-arquitectura","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/servicios-corporativos/api-gateway/02-restricciones-arquitectura.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"1. Introducci\xf3n y Objetivos","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/introduccion-objetivos"},"next":{"title":"3. Contexto Y Alcance Del Sistema","permalink":"/tlm-doc-architecture/docs/servicios-corporativos/api-gateway/contexto-alcance"}}');var n=r(74848),t=r(28453);const c={},d="2. Restricciones De La Arquitectura",a={},l=[{value:"2.1 Restricciones T\xe9cnicas Y De Plataforma",id:"21-restricciones-t\xe9cnicas-y-de-plataforma",level:2},{value:"2.2 Restricciones De Rendimiento Y Operaci\xf3n",id:"22-restricciones-de-rendimiento-y-operaci\xf3n",level:2},{value:"2.3 Restricciones De Seguridad Y Cumplimiento",id:"23-restricciones-de-seguridad-y-cumplimiento",level:2},{value:"2.4 Restricciones De Despliegue Y CI/CD",id:"24-restricciones-de-despliegue-y-cicd",level:2},{value:"2.5 Restricciones De Monitoreo Y Observabilidad",id:"25-restricciones-de-monitoreo-y-observabilidad",level:2},{value:"2.6 Limitaciones Conocidas",id:"26-limitaciones-conocidas",level:2},{value:"2.7 Decisiones Arquitect\xf3nicas Derivadas",id:"27-decisiones-arquitect\xf3nicas-derivadas",level:2},{value:"Referencias",id:"referencias",level:2}];function o(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"2-restricciones-de-la-arquitectura",children:"2. Restricciones De La Arquitectura"})}),"\n",(0,n.jsx)(i.h2,{id:"21-restricciones-t\xe9cnicas-y-de-plataforma",children:"2.1 Restricciones T\xe9cnicas Y De Plataforma"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Categor\xeda"}),(0,n.jsx)(i.th,{children:"Restricci\xf3n"}),(0,n.jsx)(i.th,{children:"Justificaci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Runtime"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:".NET 8"})}),(0,n.jsx)(i.td,{children:"Est\xe1ndar corporativo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Proxy"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.a,{href:"https://microsoft.github.io/reverse-proxy/",children:"YARP"})}),(0,n.jsx)(i.td,{children:"Alto rendimiento y soporte Microsoft"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Base de datos"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"PostgreSQL"})}),(0,n.jsx)(i.td,{children:"Robustez y escalabilidad"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Cache"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.a,{href:"https://redis.io/",children:"Redis"})}),(0,n.jsx)(i.td,{children:"Rendimiento y baja latencia"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Autenticaci\xf3n"}),(0,n.jsxs)(i.td,{children:["OAuth2/OIDC con ",(0,n.jsx)(i.code,{children:"Keycloak"})]}),(0,n.jsx)(i.td,{children:"Est\xe1ndar de la industria"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Contenedores"}),(0,n.jsx)(i.td,{children:"AWS ECS Fargate"}),(0,n.jsx)(i.td,{children:"Serverless, portabilidad"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Orquestaci\xf3n"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"ECS"})}),(0,n.jsx)(i.td,{children:"Integraci\xf3n AWS nativa"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Secrets"}),(0,n.jsx)(i.td,{children:"AWS Secrets Manager"}),(0,n.jsx)(i.td,{children:"Seguridad y cumplimiento"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Observabilidad"}),(0,n.jsx)(i.td,{children:"Grafana, Prometheus, Loki, Jaeger"}),(0,n.jsx)(i.td,{children:"Stack est\xe1ndar, trazabilidad y monitoreo"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"22-restricciones-de-rendimiento-y-operaci\xf3n",children:"2.2 Restricciones De Rendimiento Y Operaci\xf3n"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"M\xe9trica"}),(0,n.jsx)(i.th,{children:"Objetivo"}),(0,n.jsx)(i.th,{children:"Raz\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Latencia"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"< 100ms P95"})}),(0,n.jsx)(i.td,{children:"Experiencia usuario"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Throughput"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"> 5,000 RPS"})}),(0,n.jsx)(i.td,{children:"Carga esperada"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Disponibilidad"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"\u2265 99.9%"})}),(0,n.jsx)(i.td,{children:"SLA empresarial"})]})]})]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Multi-tenancy obligatorio por pa\xeds y tenant (realm)."}),"\n",(0,n.jsxs)(i.li,{children:["Rate limiting por tenant usando ",(0,n.jsx)(i.code,{children:"Redis"})," en modo cluster."]}),"\n",(0,n.jsxs)(i.li,{children:["Despliegue de contenedores en ",(0,n.jsx)(i.code,{children:"ECS Fargate"})," con Application Load Balancer multi-AZ."]}),"\n",(0,n.jsx)(i.li,{children:"Configuraci\xf3n y secretos gestionados externamente (AWS Secrets Manager)."}),"\n",(0,n.jsx)(i.li,{children:"Observabilidad centralizada (Grafana, Prometheus, Loki, Jaeger)."}),"\n",(0,n.jsx)(i.li,{children:"Seguridad: arquitectura zero trust, RBAC por tenant, auditor\xeda completa de requests."}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"23-restricciones-de-seguridad-y-cumplimiento",children:"2.3 Restricciones De Seguridad Y Cumplimiento"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Control"}),(0,n.jsx)(i.th,{children:"Requisito/Implementaci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Validaci\xf3n de tokens"}),(0,n.jsxs)(i.td,{children:["Firma JWT, clave p\xfablica (",(0,n.jsx)(i.code,{children:"Keycloak"}),")"]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Limitaci\xf3n de velocidad"}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"Redis"}),", protecci\xf3n DDoS, ventanas deslizantes"]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Lista de IPs permitidas"}),(0,n.jsx)(i.td,{children:"Restricci\xf3n por tenant"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Audit Logging"}),(0,n.jsx)(i.td,{children:"Logging estructurado, retenci\xf3n en Loki"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Cifrado en tr\xe1nsito"}),(0,n.jsx)(i.td,{children:"TLS 1.3, terminaci\xf3n en ALB"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Aislamiento de red"}),(0,n.jsx)(i.td,{children:"VPC, Security Groups, AWS WAF, Shield"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"24-restricciones-de-despliegue-y-cicd",children:"2.4 Restricciones De Despliegue Y CI/CD"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Im\xe1genes base distroless y escaneo de vulnerabilidades obligatorio."}),"\n",(0,n.jsx)(i.li,{children:"L\xedmites de recursos definidos en ECS Task Definition (CPU, memoria)."}),"\n",(0,n.jsx)(i.li,{children:"Health checks HTTP expuestos y monitoreados por ALB y Prometheus."}),"\n",(0,n.jsx)(i.li,{children:"Blue-green deployment obligatorio usando ECS y ALB."}),"\n",(0,n.jsx)(i.li,{children:"Pipeline CI/CD con GitHub Actions, pruebas autom\xe1ticas, escaneo de seguridad (Checkov, Trivy) y despliegue automatizado en AWS ECS (Terraform)."}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"25-restricciones-de-monitoreo-y-observabilidad",children:"2.5 Restricciones De Monitoreo Y Observabilidad"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Componente"}),(0,n.jsx)(i.th,{children:"Herramienta"}),(0,n.jsx)(i.th,{children:"Prop\xf3sito"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"M\xe9tricas"}),(0,n.jsx)(i.td,{children:"Prometheus, CloudWatch"}),(0,n.jsx)(i.td,{children:"Dashboards, alertas"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Logging"}),(0,n.jsx)(i.td,{children:"Loki, CloudWatch Logs"}),(0,n.jsx)(i.td,{children:"Centralizaci\xf3n, auditor\xeda"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Tracing"}),(0,n.jsx)(i.td,{children:"Jaeger, OpenTelemetry"}),(0,n.jsx)(i.td,{children:"Trazabilidad de requests"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Visualizaci\xf3n"}),(0,n.jsx)(i.td,{children:"Grafana"}),(0,n.jsx)(i.td,{children:"Dashboards y alertas"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"26-limitaciones-conocidas",children:"2.6 Limitaciones Conocidas"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Actualizaciones de configuraci\xf3n: m\xe1ximo cada 30 segundos (polling)."}),"\n",(0,n.jsxs)(i.li,{children:["Rate limiting: consistencia eventual en cluster ",(0,n.jsx)(i.code,{children:"Redis"}),"."]}),"\n",(0,n.jsx)(i.li,{children:"Costo de infraestructura: optimizaci\xf3n continua requerida."}),"\n",(0,n.jsx)(i.li,{children:"Ventana de migraci\xf3n: m\xe1ximo 4 horas de downtime."}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"27-decisiones-arquitect\xf3nicas-derivadas",children:"2.7 Decisiones Arquitect\xf3nicas Derivadas"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Restricci\xf3n"}),(0,n.jsx)(i.th,{children:"Decisi\xf3n de Dise\xf1o"}),(0,n.jsx)(i.th,{children:"Trade-off"}),(0,n.jsx)(i.th,{children:"Mitigaci\xf3n"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Soporte multi-tenant"}),(0,n.jsx)(i.td,{children:"Middleware consciente de tenant"}),(0,n.jsx)(i.td,{children:"Sobrecarga de requests"}),(0,n.jsx)(i.td,{children:"Resoluci\xf3n eficiente de tenant"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Alta disponibilidad"}),(0,n.jsx)(i.td,{children:"Dise\xf1o sin estado, multi-AZ"}),(0,n.jsx)(i.td,{children:"Complejidad de sesiones"}),(0,n.jsx)(i.td,{children:"Almacenamiento externo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Seguridad"}),(0,n.jsx)(i.td,{children:"Validaci\xf3n exhaustiva, zero trust"}),(0,n.jsx)(i.td,{children:"Latencia de procesamiento"}),(0,n.jsx)(i.td,{children:"Pipelines optimizados"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Rendimiento"}),(0,n.jsx)(i.td,{children:"Estrategias de caching y pooling"}),(0,n.jsx)(i.td,{children:"Consistencia eventual"}),(0,n.jsx)(i.td,{children:"Estrategias de invalidaci\xf3n"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"referencias",children:"Referencias"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://microsoft.github.io/reverse-proxy/",children:"YARP"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.aws.amazon.com/ecs/",children:"AWS ECS"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/",children:"AWS Application Load Balancer"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.aws.amazon.com/cloudwatch/",children:"AWS CloudWatch"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://prometheus.io/",children:"Prometheus"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://grafana.com/",children:"Grafana"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://grafana.com/oss/loki/",children:"Loki"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.jaegertracing.io/",children:"Jaeger"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://tools.ietf.org/html/rfc6749",children:"OAuth 2.0 (RFC 6749)"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://tools.ietf.org/html/rfc7519",children:"JWT (RFC 7519)"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://owasp.org/www-project-api-security/",children:"OWASP API Security"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://gdpr-info.eu/",children:"GDPR Regulation"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://www.pcisecuritystandards.org/",children:"PCI DSS Standards"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://docs.arc42.org/section-2/",children:"arc42: Architectural Constraints"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://c4model.com/",children:"C4 Model"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,i,r)=>{r.d(i,{R:()=>c,x:()=>d});var s=r(96540);const n={},t=s.createContext(n);function c(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);