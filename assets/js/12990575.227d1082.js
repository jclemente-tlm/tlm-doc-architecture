"use strict";(self.webpackChunktlm_doc_architecture=self.webpackChunktlm_doc_architecture||[]).push([[2133],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var s=i(96540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}},89398:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"lineamientos/contenedores/especificaciones-generales","title":"Especificaciones Generales","description":"1. Im\xe1genes de Contenedores","source":"@site/docs/lineamientos/contenedores/especificaciones-generales.md","sourceDirName":"lineamientos/contenedores","slug":"/lineamientos/contenedores/especificaciones-generales","permalink":"/tlm-doc-architecture/docs/lineamientos/contenedores/especificaciones-generales","draft":false,"unlisted":false,"editUrl":"https://github.com/jclemente-tlm/tlm-doc-architecture/edit/main/docs/lineamientos/contenedores/especificaciones-generales.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Especificaciones Generales","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Contenedores","permalink":"/tlm-doc-architecture/docs/contenedores"},"next":{"title":"ADRs","permalink":"/tlm-doc-architecture/docs/adrs"}}');var r=i(74848),a=i(28453);const o={title:"Especificaciones Generales",sidebar_position:1},c=void 0,l={},t=[{value:"1. Im\xe1genes de Contenedores",id:"1-im\xe1genes-de-contenedores",level:2},{value:"2. Seguridad",id:"2-seguridad",level:2},{value:"3. Versionado y Etiquetado",id:"3-versionado-y-etiquetado",level:2},{value:"4. Configuraci\xf3n",id:"4-configuraci\xf3n",level:2},{value:"5. Orquestaci\xf3n y Despliegue",id:"5-orquestaci\xf3n-y-despliegue",level:2},{value:"6. Observabilidad",id:"6-observabilidad",level:2},{value:"7. Buenas Pr\xe1cticas",id:"7-buenas-pr\xe1cticas",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"1-im\xe1genes-de-contenedores",children:"1. Im\xe1genes de Contenedores"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Usar im\xe1genes oficiales y ligeras (preferir Alpine o Slim)."}),"\n",(0,r.jsx)(n.li,{children:"Mantener Dockerfiles simples, legibles y con comentarios claros."}),"\n",(0,r.jsx)(n.li,{children:"Eliminar dependencias innecesarias y archivos temporales."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo Dockerfile para .NET (usando imagen slim o alpine):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'FROM mcr.microsoft.com/dotnet/aspnet:8.0-slim AS base\n# Alternativamente puedes usar: mcr.microsoft.com/dotnet/aspnet:8.0-alpine\nWORKDIR /app\nEXPOSE 80\n\nFROM mcr.microsoft.com/dotnet/sdk:8.0-slim AS build\n# Alternativamente puedes usar: mcr.microsoft.com/dotnet/sdk:8.0-alpine\nWORKDIR /src\nCOPY ["MyApp/MyApp.csproj", "MyApp/"]\nRUN dotnet restore "MyApp/MyApp.csproj"\nCOPY . .\nWORKDIR "/src/MyApp"\nRUN dotnet publish "MyApp.csproj" -c Release -o /app/publish\n\nFROM base AS final\nWORKDIR /app\nCOPY --from=build /app/publish .\nENTRYPOINT ["dotnet", "MyApp.dll"]\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nota:"})," Alpine puede requerir validaci\xf3n adicional de compatibilidad para aplicaciones .NET."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-seguridad",children:"2. Seguridad"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No almacenar credenciales ni secretos en la imagen."}),"\n",(0,r.jsx)(n.li,{children:"Escanear im\xe1genes en busca de vulnerabilidades antes de publicar."}),"\n",(0,r.jsx)(n.li,{children:"Actualizar peri\xf3dicamente las im\xe1genes base."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"3-versionado-y-etiquetado",children:"3. Versionado y Etiquetado"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Utilizar etiquetas sem\xe1nticas (",(0,r.jsx)(n.code,{children:"v1.0.0"}),", ",(0,r.jsx)(n.code,{children:"v1.1.0"}),", etc.)."]}),"\n",(0,r.jsxs)(n.li,{children:["Evitar el uso de la etiqueta ",(0,r.jsx)(n.code,{children:"latest"})," en ambientes productivos."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-configuraci\xf3n",children:"4. Configuraci\xf3n"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Gestionar la configuraci\xf3n mediante variables de entorno."}),"\n",(0,r.jsx)(n.li,{children:"Separar la configuraci\xf3n del c\xf3digo fuente."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo de definici\xf3n de variables en AWS Fargate (ECS Task Definition):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "containerDefinitions": [\n    {\n      "name": "myapp",\n      "image": "123456789012.dkr.ecr.us-east-1.amazonaws.com/myapp:v1.0.0",\n      "environment": [\n        { "name": "ASPNETCORE_ENVIRONMENT", "value": "Production" },\n        { "name": "ConnectionStrings__Default", "value": "..." }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"5-orquestaci\xf3n-y-despliegue",children:"5. Orquestaci\xf3n y Despliegue"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Definir recursos m\xednimos y m\xe1ximos (CPU, memoria) en los manifiestos."}),"\n",(0,r.jsx)(n.li,{children:"Usar estrategias de despliegue seguras (rolling update, blue/green)."}),"\n",(0,r.jsx)(n.li,{children:"Mantener archivos declarativos organizados y versionados."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo de definici\xf3n de recursos en AWS Fargate (ECS Task Definition):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "containerDefinitions": [\n    {\n      "name": "myapp",\n      "image": "123456789012.dkr.ecr.us-east-1.amazonaws.com/myapp:v1.0.0",\n      "memory": 512,\n      "cpu": 256\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"6-observabilidad",children:"6. Observabilidad"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Integrar los contenedores con sistemas de logging y monitoreo."}),"\n",(0,r.jsx)(n.li,{children:"Exponer m\xe9tricas relevantes para el negocio y la operaci\xf3n."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"7-buenas-pr\xe1cticas",children:"7. Buenas Pr\xe1cticas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Un solo proceso por contenedor."}),"\n",(0,r.jsx)(n.li,{children:"Mantener los contenedores inmutables."}),"\n",(0,r.jsx)(n.li,{children:"Documentar el proceso de construcci\xf3n y despliegue."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);